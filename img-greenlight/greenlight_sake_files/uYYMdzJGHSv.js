if (self.CavalryLogger) { CavalryLogger.start_js(["SQDCR"]); }

__d("MComposerDataStoreKeys",[],(function a(b,c,d,e,f,g){f.exports={COMPOSITION:"COMPOSITION",ON_CANCEL:"ON_CANCEL",ON_SUBMIT:"ON_SUBMIT"};}),null);
__d("MComposerSigils",[],(function a(b,c,d,e,f,g){f.exports={ENTRY_TRIGGER_LEGACY:"show_composer",ENTRY_TRIGGER:"composer_entry_trigger"};}),null);
__d("MComposerTypes",[],(function a(b,c,d,e,f,g){f.exports={ACTIVITY:"activity",CHECKIN:"checkin",EDIT:"edit",GROUP_SELL:"group_sell",PHOTO:"photo",RECOMMENDATION:"recommendation",SHARE:"share",STATUS:"status"};}),null);
__d("MCompositionConfigFields",[],(function a(b,c,d,e,f,g){f.exports={OPENED_AT:"opened_at",SESSION_ID:"csid",ACTION:"action",COMPOSER_TITLE:"composertitle",COMPOSER_TYPE:"composer_type",INPUT_NAME:"inputname",PLACEHOLDER:"placeholder",BUTTON_TEXT_SUBMIT:"button_text_submit",TARGET_ID:"targetid",CANCEL_CONFIRMATION_MESSAGE:"cancel_confirm_message",POST_ID:"postid",DISABLE_MENTIONS:"disable_mentions",DISABLE_OG_TAG:"disable_og_tags",DISABLE_OG_TAG_PREVIEW:"disable_og_tags_preview",DISABLE_PEOPLE_TAGS:"disable_people_tags",DISABLE_PHOTOS:"disable_photos",DISABLE_LINK:"disable_link",DISABLE_ALBUM:"disable_album",DISABLE_ALBUM_INFO:"disable_album_info",DISABLE_PLACE_TAG:"disable_place_tag",DISABLE_PRIVACY:"disable_privacy",DISABLE_VOICE_SELECTOR:"disable_voice_selector",DISABLE_SLIDESHOW:"disable_slideshow",ACTOR_ID:"actor_id",DISABLE_SUBMIT_REQUEST:"disable_submit_request",FORCE_ASYNC:"forceasync",SYNC_SUBMIT:"syncsubmit",MAX_PHOTOS_ALLOWED:"max_photos_allowed",PIN_PLACE:"pinplace",PIN_PRIVACY:"pinprivacy",SHOW_POST_TYPE_SELECTOR:"showposttypeselector",CONTEXTUAL_MESSAGE:"contextualmessage",SKIP_FOCUS:"skip_focus",WITH_LINK_PROMPT:"withlinkprompt",LOGGING_SURFACE:"logging_surface"};}),null);
__d("MCompositionShareFields",[],(function a(b,c,d,e,f,g){f.exports={ID:"ID",APP_ID:"APP_ID",INTERNAL_EXTRA:"INTERNAL_EXTRA",FEEDBACK_SOURCE:"FEEDBACK_SOURCE",DISABLED_LINKS:"DISABLED_LINKS",SHARE_URI:"SHARE_URI",LINK_NO_CHANGE:"LINK_NO_CHANGE"};}),null);
__d("MCompositionStoreID",[],(function a(b,c,d,e,f,g){f.exports={CONFIG:"CONFIG",FORMAT:"FORMAT",GROUP_SELL:"GROUP_SELL",MINUTIAE:"MINUTIAE",PHOTO:"PHOTO",PLACE:"PLACE",SHARE:"SHARE",STATUS:"STATUS",WITH_TAGS:"WITH_TAGS",PRIVACY:"PRIVACY",SLIDESHOW:"SLIDESHOW"};}),null);
__d("ModalDialogURIWhitelistForNavigationLogging",[],(function a(b,c,d,e,f,g){f.exports={ADD_FEATURE_PHOTOS:"\/profile\/intro\/edit\/photos\/",DESCRIBE_WHO_YOU_ARE:"\/profile\/intro\/edit\/bio\/"};}),null);
__d("MTaggingCounterEvent",[],(function a(b,c,d,e,f,g){f.exports={GEO_PANEL_LOAD:"geo_panel_load",GEO_PANEL_ACCEPT:"geo_panel_accept",GEO_PANEL_DENY:"geo_panel_deny",GEO_PANEL_FAIL:"geo_panel_fail",GEO_PANEL_SUCCESS:"geo_panel_success",GEO_POPUP_LOAD:"geo_popup_load",GEO_POPUP_FAIL:"geo_popup_fail",GEO_POPUP_SUCCESS:"geo_popup_success"};}),null);
__d("ViewerLocationSource",[],(function a(b,c,d,e,f,g){f.exports={AURA:"aura",GET_PARAM:"get_param",INTERN_TOOL:"intern_tool",LAST_LOCATION:"last_location",LOGIN:"login",PLACEBOOK:"placebook",PLACES_FQL:"places_fql",TEST:"test",MSITE_LOCATION_PROMPT:"msite_location_prompt",MSITE_PERSISTENT_LOCATION:"msite_persistent_location",MSITE_PLACES:"msite_places",MSITE_UNKNOWN:"msite_unknown",CORE_GQL_MUTATION:"core_graphql_mutation",MULTIFEED_PARAM:"multifeed_param",LOCATION_PROFILE_FRAMES:"location_profile_frames",PR_LOCATION_EFFECTS:"pr_location_effects",MESSENGER_LIVE_LOCATION:"messenger_live_location",VISIT_STATE:"visit_state",WIFI_FINGERPRINT:"wifi_fingerprint",INFERRED_WIFI:"inferred_wifi",INSTA_GEO_IMPLICIT:"insta_geo_implicit",AURA_TOO_FAST:"aura_too_fast",AURA_TOO_OLD:"aura_old",AURA_FAILED_MGI:"aura_failed_mgi"};}),null);
__d('CurrentLocale',['LocaleInitialData'],(function a(b,c,d,e,f,g,h){var i={};i.get=function(){return h.locale;};f.exports=i;}),null);
__d('RTISubscriptionManager',['ChannelEventEmitter','ChannelEventType','CurrentLocale','ErrorUtils','invariant','RTISubscriptionManagerConfig','Stratcom'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';var o={SUBSCRIBE:'s',UNSUBSCRIBE:'u'},p=300;function q(){var t,u=this;this.$RTISubscriptionManager1={};this.$RTISubscriptionManager2=false;this.$RTISubscriptionManager3=false;this.$RTISubscriptionManager4=true;this.$RTISubscriptionManager5=document.readyState==='complete';if(!this.$RTISubscriptionManager5)(function(){var v=n.listen(['m:onload'],null,function(event){v.remove();this.$RTISubscriptionManager5=true;this.flush();}.bind(u));})();this.$RTISubscriptionManager6=null;h.addListener(i.RTI_SESSION,function(v){this.$RTISubscriptionManager6=v;if(this.$RTISubscriptionManager6){this.deleteSubscriptions(function(w){return w.getState()===o.UNSUBSCRIBE;});this.flush();}}.bind(this));h.addListener(i.SKYWALKER_MESSAGE,function(v){var w=v.topic,x=this.$RTISubscriptionManager1[w];if(x&&x.getState()===o.SUBSCRIBE){var y={payload:v.payload,topic:w};k.applyWithGuard(x.getListener(),this,[y]);}}.bind(this));this.getCurrentSession();}q.prototype.subscribe=function(t,u,v,w){t||l(0);u||l(0);if(Object.keys(this.$RTISubscriptionManager1).length<this.getMaxSubscriptions()){v=v||{};v.locale=j.get();if(m.autobot){v.autobotOverrideTier=m.autobot.tier;v.autobotOverrideHostName=m.autobot.host_name;v.autobotOverrideHostIp=m.autobot.host_ip;}if(m.assimilator){v.tierType=m.assimilator.tierType;v.sandboxIP=m.assimilator.sandboxIP;v.sandboxPort=m.assimilator.sandboxPort;v.sandboxHostname=m.assimilator.sandboxHostname;}var x=new s(t,u,v,w),y=new r(x);this.$RTISubscriptionManager1[t]=x;this.flush();return y;}return null;};q.prototype.unsubscribe=function(t){t||l(0);if(t in this.$RTISubscriptionManager1){var u=this.$RTISubscriptionManager1[t];u.setState(o.UNSUBSCRIBE);u.setDirty(true);u.setSent(false);}};q.prototype.flush=function(){var t,u=this;if(this.isReady()&&!this.$RTISubscriptionManager2){var v;(function(){u.$RTISubscriptionManager2=true;u.$RTISubscriptionManager3=false;var w=[],x={},y=false;u.forEachSubscription(function(ca,da){if(da.isDirty()){var ea='subscriptions',fa=x[ea];if(!fa){fa=[];x[ea]=fa;}w.push(da);da.setDirty(false);da.setSent(false);var ga={topic:da.getTopic(),state:da.getState(),context:da.getContext()};fa.push(ga);}else y=true;});if(!y&&x.subscriptions&&x.subscriptions.length>0){var z=[];for(v=0;v<x.subscriptions.length;v++)if(x.subscriptions[v].state!==o.UNSUBSCRIBE)z.push(x.subscriptions[v]);x.subscriptions=z;u.$RTISubscriptionManager4=true;}var aa=function(ca){var da=ca.data!=null;if(this.$RTISubscriptionManager4&&da)this.$RTISubscriptionManager4=false;for(var ea=0;ea<w.length;ea++){var fa=w[ea];fa.setSent(da);fa.setDirty(!da);if(fa.getState()===o.SUBSCRIBE){var ga=fa.getSubscribeCallback();if(ga!==null)k.applyWithGuard(ga,this,[ca]);}}this.deleteSubscriptions(function(ha){return ha.getState()===o.UNSUBSCRIBE&&ha.isSent();});this.$RTISubscriptionManager2=false;if(this.$RTISubscriptionManager3){this.$RTISubscriptionManager3=false;this.flush();}}.bind(u);if(Object.keys(x).length>0){var ba={};if(u.$RTISubscriptionManager4)ba.reset='t';u.$RTISubscriptionManager6.issueRequest('/sub',ba,x,aa);}else u.$RTISubscriptionManager2=false;})();}else{this.$RTISubscriptionManager3=true;if(this.$RTISubscriptionManager6===null)this.getCurrentSession();}};q.prototype.deleteSubscriptions=function(t){t||l(0);var u=[];this.forEachSubscription(function(w,x){if(t.apply(this,[x]))u.push(w);});for(var v=0;v<u.length;v++)delete this.$RTISubscriptionManager1[u[v]];};q.prototype.forEachSubscription=function(t){t||l(0);for(var u in this.$RTISubscriptionManager1)if(Object.prototype.hasOwnProperty.call(this.$RTISubscriptionManager1,u))t.apply(this,[u,this.$RTISubscriptionManager1[u]]);};q.prototype.getSubscriptions=function(){var t=[];this.forEachSubscription(function(u,v){t.push(v);});return t;};q.prototype.isSubscribed=function(t){t||l(0);return t in this.$RTISubscriptionManager1;};q.prototype.isReady=function(){return this.$RTISubscriptionManager6!==null&&this.$RTISubscriptionManager5;};q.prototype.getCurrentSession=function(){h.emit(i.GET_RTI_SESSION_REQUEST);};q.prototype.getMaxSubscriptions=function(){if(m.config&&Object.prototype.hasOwnProperty.call(m.config,'max_subscriptions')){return m.config.max_subscriptions;}else return p;};function r(t){this.$SubscriptionToken1=t;}r.prototype.unsubscribe=function(){q.unsubscribe(this.$SubscriptionToken1.getTopic());};function s(t,u,v,w){this.$SubscriptionData1=t;this.$SubscriptionData2=u;this.$SubscriptionData3=true;this.$SubscriptionData4=false;this.$SubscriptionData5=o.SUBSCRIBE;this.$SubscriptionData6=Date.now();if(v){this.$SubscriptionData7=v;}else this.$SubscriptionData7={};if(w){this.$SubscriptionData8=w;}else this.$SubscriptionData8=null;}s.prototype.getCreatedTime=function(){return this.$SubscriptionData6;};s.prototype.getTopic=function(){return this.$SubscriptionData1;};s.prototype.getListener=function(){return this.$SubscriptionData2;};s.prototype.getSubscribeCallback=function(){return this.$SubscriptionData8;};s.prototype.isDirty=function(){return this.$SubscriptionData3;};s.prototype.setDirty=function(t){this.$SubscriptionData3=t;};s.prototype.getState=function(){return this.$SubscriptionData5;};s.prototype.setState=function(t){this.$SubscriptionData5=t;};s.prototype.getContext=function(){return this.$SubscriptionData7;};s.prototype.isSent=function(){return this.$SubscriptionData4;};s.prototype.setSent=function(t){this.$SubscriptionData4=t;};Object.keys(q.prototype).forEach(function(t){q[t]=function(){var u=q;return q.prototype[t].apply(u,arguments);};});q.call(q);f.exports=q;}),null);
__d('RTISubscriptionGate',['RTISubscriptionManager'],(function a(b,c,d,e,f,g,h){'use strict';f.exports=h;}),null);
__d('MComposition',['MCompositionStoreID','invariant'],(function a(b,c,d,e,f,g,h,i){function j(k){'use strict';var l=k||{};this.$MComposition1={};for(var m in l)this.setStoreData(m,l[m]);}j.prototype.serialize=function(){'use strict';return this.$MComposition1;};j.prototype.$MComposition2=function(k){'use strict';Object.prototype.hasOwnProperty.call(h,k)||i(0);};j.prototype.setStoreData=function(k,l){'use strict';this.$MComposition2(k);!Object.prototype.hasOwnProperty.call(this.$MComposition1,k)||i(0);this.$MComposition1[k]=l;return this;};f.exports=j;}),null);
__d("XTaggingCounterController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/composer\/tagging\/counter\/",{event:{type:"Enum",required:true,enumType:1}});}),null);
__d('MTaggingCounter',['AsyncSignal','XTaggingCounterController'],(function a(b,c,d,e,f,g,h,i){var j={logEvent:function k(event,l){var m=i.getURIBuilder().setEnum('event',event).getURI();new h(m).send();}};f.exports=j;}),null);
__d('MComposerPresence',['MLegacyDataStore','DOM','EventEmitter','$','invariant'],(function a(b,c,d,e,f,g,h,i,j,k,l){var m='REGISTERED',n=null,o=new j(),p={addRegistrationListener:function q(r){return o.addListener(m,r);},hasRegisteredInstance:function q(){return !!n;},hasLoadedPrivacyValue:function q(r){if(!this.hasRegisteredInstance())return false;return i.scry(i.find(k('static_templates'),'div','composer-main-view'),'tr','privacy-option').some(function(s){return h.get(s).value===r;});},register:function q(r){!n||l(0);n=r;o.emit(m);},unregister:function q(r){n===r||l(0);n=null;},cleanup:function q(){if(n!==null)n.cleanup();}};f.exports=p;}),null);
__d("XComposerAsyncLoaderController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/composer\/async_loader\/",{targetid:{type:"Int"}});}),null);
__d("promiseFinally",["Promise"],(function a(b,c,d,e,f,g,h){function i(j,k){return j.then(function(l){return h.resolve(k()).then(function(){return l;});},function(l){return h.resolve(k()).then(function(){throw l;});});}f.exports=i;}),null);
__d('MComposerAsyncLoadRequest',['Promise','MComposerPresence','MRequest','XComposerAsyncLoaderController','promiseFinally'],(function a(b,c,d,e,f,g,h,i,j,k,l){function m(){'use strict';this.$MComposerAsyncLoadRequest1=null;this.$MComposerAsyncLoadRequest2=null;this.$MComposerAsyncLoadRequest3=null;}m.prototype.$MComposerAsyncLoadRequest4=function(){'use strict';if(this.$MComposerAsyncLoadRequest1){this.$MComposerAsyncLoadRequest1.remove();this.$MComposerAsyncLoadRequest1=null;}if(this.$MComposerAsyncLoadRequest3){this.$MComposerAsyncLoadRequest3.abort();this.$MComposerAsyncLoadRequest3=null;}};m.prototype.$MComposerAsyncLoadRequest5=function(){'use strict';return new h(function(n,o){this.$MComposerAsyncLoadRequest1=i.addRegistrationListener(n);this.$MComposerAsyncLoadRequest3=new j(k.getURIBuilder().getURI());this.$MComposerAsyncLoadRequest3.listen('fail',o);this.$MComposerAsyncLoadRequest3.send();}.bind(this));};m.prototype.send=function(){'use strict';if(!this.$MComposerAsyncLoadRequest2){this.$MComposerAsyncLoadRequest2=this.$MComposerAsyncLoadRequest5();l(this.$MComposerAsyncLoadRequest2,function(){return this.$MComposerAsyncLoadRequest4();}.bind(this));}return this.$MComposerAsyncLoadRequest2;};f.exports=m;}),null);
__d('MComposerEntry',['Promise','MLegacyDataStore','ErrorUtils','LoadingIndicator','MComposerAsyncLoadRequest','MComposerDataStoreKeys','MComposerPresence','MComposerSigils','MComposition','Stratcom','promiseFinally'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s=new h(function(ca,da){return da();}),t=new h(function(ca){return ca();}),u=j.guard(function(ca){if(ca)throw ca;},'MComposerEntry');function v(event){if(aa)return;ba.invoke(new p(i.get(event.getNode(o.ENTRY_TRIGGER))[m.COMPOSITION]));}function w(ca){aa=true;var da=null;if(n.hasRegisteredInstance()){da=z(ca);}else da=y(ca).then(function(){return z(ca);},u);r(da,function(){return aa=false;});return da;}function x(){if(n.hasRegisteredInstance())return t;return new l().send();}function y(ca){k.show();var da=x(ca);r(da,function(){return k.hide();});return da;}function z(ca){return new h(function(da,ea){var fa={};fa[m.COMPOSITION]=ca.serialize();fa[m.ON_CANCEL]=ea;fa[m.ON_SUBMIT]=da;q.invoke('MComposer:entry:js',null,fa);});}var aa=false;q.listen('click',o.ENTRY_TRIGGER,v);q.listen('m:page:unload',null,function(){aa=false;});var ba={invoke:function ca(da){if(aa)return s;return w(da||new p());}};f.exports=ba;}),null);
__d('BanzaiODS',['Banzai','invariant'],(function a(b,c,d,e,f,g,h,i){function j(){var l={},m={};function n(o,p,q,r){if(q===undefined)q=1;if(r===undefined)r=1;if(o in m)if(m[o]<=0){return;}else q/=m[o];var s=l[o]||(l[o]={}),t=s[p]||(s[p]=[0]);q=Number(q);r=Number(r);if(!isFinite(q)||!isFinite(r))return;t[0]+=q;if(arguments.length>=4){if(!t[1])t[1]=0;t[1]+=r;}}return {setEntitySample:function o(p,q){m[p]=Math.random()<q?q:0;},bumpEntityKey:function o(p,q,r){n(p,q,r);},bumpFraction:function o(p,q,r,s){n(p,q,r,s);},flush:function o(p){for(var q in l)h.post('ods:'+q,l[q],p);l={};}};}var k=j();k.create=j;h.subscribe(h.SEND,k.flush.bind(k,null));f.exports=k;}),18);
__d('isEmpty',['invariant'],(function a(b,c,d,e,f,g,h){'use strict';function i(k){if(Array.isArray(k)){return k.length===0;}else if(typeof k==='object'){if(k){!j(k)||k.size===undefined||h(0);for(var l in k)return false;}return true;}else return !k;}function j(k){if(typeof Symbol==='undefined')return false;return k[typeof Symbol==='function'?Symbol.iterator:'@@iterator'];}f.exports=i;}),18);
__d('MFeedAdsGapRuleViolationDetection',['Banzai','BanzaiODS','CSS','DataAttributeUtils','DOM','ge','isEmpty'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n){var o='ei',p='qid',q='gap rule violation',r='non violating ads gap',s='non violating ego gap',t='first position violation',u='feed load',v='spacing invalidation',w='ego_pymk',x='ego_other',y=[],z=[],aa=[],ba=[],ca={},da={},ea={},fa=[],ga={registerFeedStories:function ha(ia){var ja=m(ia.containerID);if(ja==null||ja.childNodes==null)return;ca=babelHelpers['extends']({},ia.demoAdChecks,ca);ea=ia.egoGapRule;fa=ia.invalidateEgo?ia.egoStories:{};var ka=this._getStoriesFromContainer(ja);if(ia.isLoggingEnabled&&ka.length!==0)this._logFeedLoad();y=y.concat(ka);for(var la in ia.minGaps)if(Object.prototype.hasOwnProperty.call(ia.minGaps,la))da[la]=ia.minGaps[la];if(n(ca)){if(ia.isLoggingEnabled)this._checkFirstPosViolation(ia,ja);if(ia.invalidateEgo||ia.isLoggingEnabled||ia.isGapRuleInvalidationEnabled)this._checkGapRuleViolation(ia);}},_getStoriesFromContainer:function ha(ia){var ja=[];for(var ka=0;ka<ia.childNodes.length;ka++){var la=this._convertStoryNodeToObject(ia.childNodes[ka]);if(la!==null)ja.push(la);}return ja;},_convertStoryNodeToObject:function ha(ia){var ja=ia.getAttribute('data-dedupekey'),ka=[k.getDataFt(ia)];if(ka[0]==null)return null;var la=JSON.parse(ka[0]);return {dataFTArray:ka,dedupKey:ja,isSponsored:!!la[o],isEgoPymk:fa[ja]===w,isEgoOther:fa[ja]===x,height:ia.offsetHeight,qid:parseInt(la[p],10),nodeID:ia.id};},_checkFirstPosViolation:function ha(ia,ja){if(y.length>0&&y[0].isSponsored){var ka={ftArray:y[0].dataFTArray,qid:y[0].qid,nodeid:y[0].nodeID};if(ia.isLoggingEnabled&&!(y[0].dedupKey in ba)){this._logFirstPosViolation(ka);ba[y[0].dedupKey]=ka;}}},_getMinGap:function ha(ia,ja,ka){var la=Math.min(ia?ia:Number.MAX_VALUE,ja?ja:Number.MAX_VALUE);return la!==Number.MAX_VALUE?la:ka;},_getStoryDedupKeysJSONString:function ha(ia,ja){var ka=[];for(var la=ia;la<=ja;la++)ka.push(y[la].dedupKey);return JSON.stringify(ka);},_getStoryDedupKeys:function ha(){return y.map(function(ia){return ia.dedupKey;});},_checkGapRuleViolation:function ha(ia){var ja=null,ka=null,la=null;for(var ma=0;ma<y.length;ma++){var na=y[ma];if(na.isSponsored){var oa=false,pa=false;if(ja!==null){var qa=ma-ka,ra=null,sa=null;if(ja===ka){sa=this._getMinGap(da[la.dedupKey],da[na.dedupKey],ia.defaultMinGap);}else sa=this._getMinGapBetweenStories(la,na);var ta=null;if(qa<sa){ra=q;ta=ka;}else{ra=r;ta=ja;}if(ia.isLoggingEnabled)if(!(na.dedupKey in z)||z[na.dedupKey].event_type!==ra){this._logGapEvent(ra,ta,ma);z[na.dedupKey]={event_type:ra};}if(ia.isGapRuleInvalidationEnabled&&ra==q){this._invalidateGapRuleViolatedAd(la,na);oa=true;y.splice(ma--,1);}}if(!oa&&!pa){ja=ma;ka=ma;la=na;}}if(ia.invalidateEgo&&(na.isEgoPymk||na.isEgoOther)){var ua=false;if(ka!==null){qa=ma-ka;sa=this._getMinGapBetweenStories(la,y[ma]);if(qa<sa){ua=true;var va=sa-qa,wa=-1;for(var xa=ma+1;xa<y.length;xa++){if(y[xa].isSponsored||y[xa].isEgoPymk||y[xa].isEgoOther){break;}else va--;if(va===0){wa=xa;break;}}if(wa>0){this._swapAndLogEgo(ma,xa);}else{this._invalidateAndLogEgo(ma);ma--;}}else if(ia.shouldLogEgo&&!aa[na.dedupKey]){aa[na.dedupKey]=true;this._logGapEvent(s,ka,ma);}}if(!ua){ka=ma;la=na;}}}},_getMinGapBetweenStories:function ha(ia,ja){var ka='';if(ia.isSponsored||ia.isEgoOther){ka='ad';}else if(ia.isEgoPymk){ka='pymk';}else return 0;var la='';if(ja.isSponsored||ja.isEgoOther){la='ad';}else if(ja.isEgoPymk){la='pymk';}else return 0;return ea[ka+'_'+la];},_swapAndLogEgo:function ha(ia,ja){this._shiftEgoBelowOrganicStory(y[ia].nodeID,y[ja].nodeID);var ka=y[ia];y.splice(ia,1);y.splice(ja,0,ka);i.bumpEntityKey('m_feed_ego_invalidation','swap');},_shiftEgoBelowOrganicStory:function ha(ia,ja){var ka=m(ia),la=m(ja);ka&&la&&l.insertAfter(la,ka);},_invalidateAndLogEgo:function ha(ia){var ja=m(y[ia].nodeID);ja&&j.hide(ja);y.splice(ia,1);i.bumpEntityKey('m_feed_ego_invalidation','invalidate');},_logFirstPosViolation:function ha(ia){var ja={ft:ia.ftArray[0],event_type:t,intValues:{qid:ia.qid}};if(ia.error_msg)ja.error_msg=ia.error_msg;h.post('feed_ads_gap_rule_violation',ja);},_logGapEvent:function ha(ia,ja,ka){if(ja===null)return;var la=y[ja],ma=y[ka],na=0;for(var oa=ja+1;oa<ka;oa++)na+=y[oa].height;var pa={ft_A:la.dataFTArray[0],ft_B:ma.dataFTArray[0],event_type:ia,intValues:{dist:ka-ja,pdist:na,pos:ka+1,qid_A:la.qid,qid_B:ma.qid},strValues:{previous_unit_type:this._getUnitTypeForLogging(la),unit_type:this._getUnitTypeForLogging(ma)},dedup_keys:this._getStoryDedupKeysJSONString(ja,ka)};h.post('feed_ads_gap_rule_violation',pa);},_getUnitTypeForLogging:function ha(ia){if(ia.isSponsored){return 'ad';}else if(ia.isEgoPymk){return 'pymk';}else if(ia.isEgoOther)return 'ego_other';return null;},_logFeedLoad:function ha(){var ia={event_type:u};h.post('feed_ads_gap_rule_violation',ia);},_invalidateGapRuleViolatedAd:function ha(ia,ja){var ka=m(ja.nodeID);ka&&j.hide(ka);var la={ft_array_A:ia.dataFTArray[0],ft_array_B:ja.dataFTArray[0],event_type:v};h.post('feed_ads_gap_rule_violation',la);}};f.exports=ga;}),null);
__d('MFeedErrorDetection',['Banzai','DataAttributeUtils'],(function a(b,c,d,e,f,g,h,i){'use strict';var j={};function k(event,m,n,o){var p={event:event,shouldLogDetail:m,site:'mtouch'};if(m){p.intValues=n;p.normalValues=o;}h.post('feed_error_detection',p,{delay:0});}var l={registerFeedStory:function m(n){var o=n.feedObjectElement,p=n.shouldLogDetail;if(!o)return;var q=i.getDataFt(o),r=o.getAttribute('data-dedupekey');if(!r||!q)return;if(j[r]){var s=void 0;if(p)s={dedupKey:r,ft_A:q,ft_B:j[r]};k('mtouch_duplicate_stories',p,{},{dup_field:s||{}});}else j[r]=q;}};f.exports=l;}),null);
__d('MFriendingActionError',[],(function a(b,c,d,e,f,g){f.exports={CONFIRM_INCOMING_REQUEST_ERROR:'confirm_incomming_request_error',DELETE_INCOMING_REQUEST_ERROR:'delete_incomming_request_error',SEND_OUTGOING_REQUEST_ERROR:'send_outgoing_request_error',CANCEL_OUTGOING_REQUEST_ERROR:'cancel_outgoing_request_error'};}),null);
__d('BaseGraphQLSubscription',['Banzai','BanzaiLogger','ChannelClientID','CurrentLocale','CurrentUser','GraphQLSubscriptionsConfig','RTISubscriptionGate','URI'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=10000,q={subscribe:function r(s,t){var u={transformContext:JSON.stringify(this._getTransformContext(s))},v=this._getQueryParameters(s);this._logEvent('client_subscribe',v);return n.subscribe(this._getTopic(s),function(w){this._logEvent('receivepayload',v);t(JSON.parse(w.payload));}.bind(this),u,null,function(){this._logEvent('client_unsubscribe',v);}.bind(this));},subscribeWithIcebreaker_EXPERIMENTAL:function r(s,t,u){var v=new o('https://streaming-graph.facebook.com/gqls_bore');v.setQueryData({access_token:u});var w=this._getTopic(s),x={topic:w,locale:k.get(),queryID:this._getQueryID(),serializedQueryParameters:JSON.stringify(this._getQueryParameters(s))};v.addQueryData(x);var y=new EventSource(v.toString(),{withCredentials:true});y.addEventListener('message',function(z){t(JSON.parse(JSON.parse(z.data).payload));},false);return {getContext:function z(){return x;},unsubscribe:function z(){return y.close();}};},_getTransformContext:function r(s){var t=155160167952447;return {viewerID:l.getID(),appID:t,locale:k.get(),queryID:this._getQueryID(),serializedQueryParameters:JSON.stringify(this._getQueryParameters(s))};},_logEvent:function r(s,t){if(h.isEnabled('gqls_web_logging')){var u=m.shouldAlwaysLog?1:p;if(Math.random()*u<1)i.log('GraphQLSubscriptionsLoggerConfig',{clienttime:Date.now()/1000,client_sample_weight:u,event:s,mechanism:'skywalker',query_id:parseInt(this._getQueryID(),10),query_params:t,session_id:j.getID(),subscription_call:this._getSubscriptionCallName()});}}};f.exports=q;}),null);
__d('WebGraphQLSubscriptionHelper',[],(function a(b,c,d,e,f,g){'use strict';f.exports={getExports:function h(i){var j=i.docID,k=i.queryID;return {getDocID:function l(){return j;},getLegacyQueryID:function l(){return k;}};}};}),null);
__d("CommentLikeWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function a(b,c,d,e,f,g,h){'use strict';f.exports=h.getExports({docID:"1435334373168219",queryID:"1723155404680538"});}),null);
__d('UFICommentLikeSubscription',['BaseGraphQLSubscription','CommentLikeWebGraphQLSubscription','GraphQLSubscriptionsConfig','uuid'],(function a(b,c,d,e,f,g,h,i,j,k){var l=babelHelpers['extends']({},h,{_getTopic:function m(n){return 'gqls/comment_like_subscribe/top_level_feedback_id_'+n;},_getQueryID:function m(){return j.shouldUseGraphQL2DocumentIDs?i.getDocID():i.getLegacyQueryID();},_getQueryParameters:function m(n){return {input:JSON.stringify({client_subscription_id:k(),top_level_feedback_id:n})};},_getSubscriptionCallName:function m(){return 'comment_like_subscribe';}});f.exports=l;}),null);
__d("MSiteCommentCreateWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function a(b,c,d,e,f,g,h){'use strict';f.exports=h.getExports({docID:"1659551594055113",queryID:"449892118711349"});}),null);
__d('UFICommentSubscription',['BaseGraphQLSubscription','GraphQLSubscriptionsConfig','MSiteCommentCreateWebGraphQLSubscription','uuid'],(function a(b,c,d,e,f,g,h,i,j,k){var l=babelHelpers['extends']({},h,{_getTopic:function m(n){return 'gqls/comment_create_subscribe/feedback_id_'+n;},_getQueryID:function m(){return i.shouldUseGraphQL2DocumentIDs?j.getDocID():j.getLegacyQueryID();},_getQueryParameters:function m(n){return {input:JSON.stringify({client_subscription_id:k(),feedback_id:n})};},_getSubscriptionCallName:function m(){return 'comment_create_subscribe';}});f.exports=l;}),null);
__d("MSiteFeedbackLikeWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function a(b,c,d,e,f,g,h){'use strict';f.exports=h.getExports({docID:"1418598598173623",queryID:"644201235775644"});}),null);
__d('UFILikeSubscription',['BaseGraphQLSubscription','GraphQLSubscriptionsConfig','MSiteFeedbackLikeWebGraphQLSubscription','uuid'],(function a(b,c,d,e,f,g,h,i,j,k){var l=babelHelpers['extends']({},h,{_getTopic:function m(n){return 'gqls/feedback_like_subscribe/feedback_id_'+n;},_getQueryID:function m(){return i.shouldUseGraphQL2DocumentIDs?j.getDocID():j.getLegacyQueryID();},_getQueryParameters:function m(n){return {input:JSON.stringify({client_subscription_id:k(),feedback_id:n})};},_getSubscriptionCallName:function m(){return 'feedback_like_subscribe';}});f.exports=l;}),null);
__d("Tooltip",[],(function a(b,c,d,e,f,g){var h={propsFor:function i(j){return;}};f.exports=h;}),null);
__d('MScrollPositionSaver',['setTimeoutAcrossTransitions','$','Stratcom','MViewport','Vector'],(function a(b,c,d,e,f,g,h,i,j,k,l){var m,n={getElementPositionY:function u(v){return l.getPos(v).y;},getScrollPosition:function u(v){var w=i('root');m=v;var x=v?v.scrollTop:k.getScrollTop();if(x<k.getHeight()/3)return {element:document.body,hiddenRatio:0};do{var y=[];for(var z=0;z<w.childNodes.length;z++){var aa=w.childNodes[z];if(aa.nodeType!==1)continue;var ba=document.defaultView.getComputedStyle(aa,'');if(ba.display!='none'&&ba.visibility!='hidden')y.push(aa);}if(!y.length)break;var ca=x;if(y[0].offsetParent)ca-=n.getElementPositionY(y[0].offsetParent);var da=0,ea=y.length-1;while(da<=ea){var fa=Math.floor((da+ea)/2);if(y[fa].offsetTop<=ca){da=fa+1;}else ea=fa-1;}w=y[Math.max(ea,0)];}while(!j.hasSigil(w,'marea'));var ga=Math.max(x-n.getElementPositionY(w),0),ha=0;if(w.offsetHeight)ha=Math.min(ga/w.offsetHeight,1);return {element:w,hiddenRatio:ha};},setScrollPosition:function u(v,w){var x=v.element.offsetHeight*v.hiddenRatio,y=n.getElementPositionY(v.element)+parseInt(x,10),z=w?w.scrollTop:k.getScrollTop();if(y>0||z>0)if(w){w.scrollTop=y;}else k.scrollTo(0,y);}},o=null,p=null,q=k.isLandscape(),r=false,s=false;function t(){var u=m?m.scrollTop:k.getScrollTop();if(u!=o){p=n.getScrollPosition(m);o=u;}s=false;}j.listen('scroll',null,function(u){if(u.getType()=='scroll'&&r)return;if(!s){h(t,50);s=true;}});j.listen('resize',null,function(){r=true;h(function(){var u=k.isLandscape();if(p&&q!==u){q=u;n.setScrollPosition(p,m);t();}r=false;},200);});f.exports=n;}),null);
__d('MModalDialog',['setTimeoutAcrossTransitions','$','CSS','DOM','MLinkHack','MPageCache','MRequest','MRequestGateway','ScriptPath','Stratcom','MHistory','MPageController','MRequestTypes','MScrollPositionSaver','MURI','MViewport','ModalDialogURIWhitelistForNavigationLogging','URI','fbt','FWLoader'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){var aa=c('FWLoader').FW,ba='dialog-ignore-subtree-links',ca='mds',da='mdf',ea='fw:modal-dialog:close',fa='m:modal-dialog:step-change',ga='m:modal-dialog:initial-load',ha='m:modal-dialog:close',ia='m:modal-dialog:will-close',ja=null,ka=false,la=false,ma=false,na=null,oa=null,pa=null,qa=null,ra=null,sa=null,ta=null,ua=[],va=false,wa=null,xa=null;function ya(){return la;}function za(gc,hc){va=true;bb(gc,hc);}function ab(gc,hc,ic){xa=hc;bb(gc,ic);}function bb(gc,hc,ic){if(fc(gc))p.openOverlayView(gc);if(window.FW_ENABLED){if(hc)q.listen(ea,null,function(kc){q.removeCurrentListener();hc(kc.getData());});var jc=encodeURIComponent(gc);aa.openInNewWebView('fb://facewebmodal/f?href='+jc);return;}if(la)throw new Error('A modal dialog is already open.');k.hide(ac());k.setContent(zb(),null);la=true;rb(true);na=hc;if(ic){gb(ic);}else gb(z._("Loading..."));jb(true);ta=u.getScrollPosition();db(gc,{firstStep:true});k.hide(i('viewport'));k.show(ja);w.scrollToHeader();sa=w.getUseableHeight()-i('mDialogHeader').offsetHeight;}function cb(gc){if(window.FW_ENABLED){aa.broadcastEvent(ea,null,gc,1);aa.dismissModalDialog(true);return;}if(fc(pa))p.closeOverlayView(pa);if(!!gc&&gc.goBack===true){wa=mb.bind(null,gc);window.history.go(-1);}else mb(gc);}function db(gc,hc){hc=hc||{};if(!hc.dontPushState)eb(xa,gc,hc);wb(gc);}function eb(gc,hc,ic){oa=hc||oa;ic=ic||{};ua.push(w.getScrollPos());if(!window.FW_ENABLED){gc=gc||r.getPath();var jc=new v(gc).addQueryData(r.SOFT_STATE_KEY).addQueryData(ca,oa.toString());if(ic.firstStep){jc.addQueryData(da,1);}else jc.addQueryData(da,undefined);r.pushState(jc.toString());}}function fb(){q.invoke(fa);if(window.FW_ENABLED){qb(true);}else{ma=true;window.history.go(-1);}if(ua.length){var gc=ua.pop();setTimeout(function(){w.scrollTo(gc.x,gc.y);});}}function gb(gc){k.setContent(qa,gc);}function hb(){return qa.innerText;}function ib(gc){j.conditionClass(i('modalDialog'),'spin',gc);}function jb(gc){k.scry(i('mDialogHeader'),'button').forEach(function(hc){hc.disabled=!gc;});}function kb(gc){lb();la=true;pa=gc;q.invoke(fa);}function lb(){var gc=i('modalDialog');if(ja===gc)return;ja=gc;q.addSigil(ja,'context-layer-root');qa=k.find(gc,'div','dialog-title');k.listen(gc,'click','dialog-cancel-button',function(hc){hc.kill();cb({canceled:true,goBack:true});});k.listen(gc,'click','dialog-back-button',function(hc){hc.kill();fb();});k.listen(gc,'click',null,function(hc){var ic=hc.getNode('tag:a');if(!ic)return;if(hc.getPrevented())return;var jc=hc.getNode(ba);if(ic.getAttribute('rel')=='ignore'||jc)return;hc.kill();if(q.hasSigil(ic,'cancel-link')){fb();return;}l.remove(ic);var kc=ic.getAttribute('href');h(db.bind(null,kc),200);});if(window.FW_ENABLED){ra=[];}else q.listen('m:history:change',null,nb);q.listen('m:page:unload',null,function(){if(!window.FW_ENABLED&&la)cb({canceled:true});});}function mb(gc){q.invoke(ia);k.hide(ja);k.show(i('viewport'));if(ta)u.setScrollPosition(ta);if(na)na(gc);q.invoke(fa);k.setContent(i('modalDialogView'),null);q.invoke(ha);la=false;}function nb(gc){var hc=new y(gc.getData().path).getQueryData(),ic=hc[ca];if(wa!==null){if(ic){gc.kill();window.history.go(-1);}else{var jc=wa;wa=null;jc();}return;}if(!la){if(ic){gc.kill();window.history.go(-1);}return;}gc.prevent();if(!ic&&!va){cb({canceled:true});return;}rb(!!hc[da]);if(ic===oa.toString())return;o.stopAllRequests();oa=new y(ic);if(!ma&&m.isPageCached(ic,s.HISTORY_EXPIRE_MS)){var kc=m.getCachedPage(ic);kc.listen('complete',xb.bind(this,ic));kc.process();}else{ma=false;wb(ic);}}function ob(gc){this._customData=gc;}function pb(){return this._customData;}function qb(gc){if(ra.length===0)return;var hc=ra.pop();if(ra.length===0)rb(true);if(gc){db(hc.uri);}else{k.setContent(i('modalDialogView'),hc.content);yb(hc.rightButtons);gb(hc.title);xb(hc.uri);}}function rb(gc){j.conditionClass(i('mDialogHeader'),'firstStep',gc);ka=gc;}function sb(){return ka;}function tb(){k.hide(bc());k.show(ac());}function ub(){k.show(bc());k.hide(ac());}function vb(){k.hide(bc());k.hide(ac());}function wb(gc){function hc(jc){var kc=document.createDocumentFragment();while(jc.firstChild)kc.appendChild(jc.removeChild(jc.firstChild));return kc;}ib(true);if(!sb())q.invoke(fa);if(window.FW_ENABLED){ra.push({content:hc(i('modalDialogView')),uri:pa,title:hb(),rightButtons:hc(i('modalDialogHeaderButtons'))});rb(false);}var ic=new n(new v(gc).toString()).setType(t.TRANSITION);ic.setMethod('GET');ic.listen('postprocess',function(jc){if(!window.FW_ENABLED)m.setCachedPage(gc,jc.response);xb(gc);});ic.send();}function xb(gc){if(!window.FW_ENABLED)i('modalDialogView').style.minHeight=sa+'px';ib(false);pa=gc;if(sb())q.invoke(ga,null,{uri:gc});q.invoke('m:ajax:complete');}function yb(gc){k.setContent(zb(),gc);}function zb(){return i('modalDialogHeaderButtons');}function ac(){return k.find(ja,'*','dialog-cancel-button');}function bc(){return k.find(ja,'*','dialog-back-button');}function cc(gc){if(gc){k.replace(ac(),gc);}else k.hide(ac());}function dc(gc){q.addSigil(gc,ba);}function ec(gc){if(la){db(gc);}else bb(gc);}function fc(gc){return Object.values(x).indexOf(gc)>-1;}g.init=lb;g._replaceButtons=yb;g._replaceCancelButton=cc;g.STEP_CHANGE_EVENT=fa;g.STEP_KEY=ca;g.INITIAL_LOAD_EVENT=ga;g.CLOSE_EVENT=ha;g.WILL_CLOSE_EVENT=ia;g.close=cb;g.getIsFirstStep=sb;g.goBack=fb;g.initForFaceweb=kb;g.isOpen=ya;g.load=db;g.loadOrOpen=ec;g.open=bb;g.pushState=eb;g.openWithNoHistoryChangeClose=za;g.setSpinnerVisibility=ib;g.setTitle=gb;g.ignoreLinks=dc;g.setHeaderButtonsEnabledState=jb;g.openWithPermalinkURI=ab;g.showCancelButton=tb;g.showBackButton=ub;g.hideBackAndCancelButtons=vb;g.setCustomData=ob;g.getCustomData=pb;}),null);
__d('MSnowflakeLink',['DataAttributeUtils','DOM','MModalDialog','URI','MLinkHack','Parent','Stratcom','destroyOnUnload'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(q){'use strict';this.$MSnowflakeLink1=false;this.$MSnowflakeLink2=q.node;this.$MSnowflakeLink3=q.permalink;this.$MSnowflakeLink4=q.setToken;this.$MSnowflakeLink5=q.targetPhoto;this.$MSnowflakeLink6=i.listen(q.node,'click',null,this.onClick.bind(this));o(function(){return this.$MSnowflakeLink6.remove();}.bind(this));this.$MSnowflakeLink7();}p.prototype.getFeedTrackingOwnerID=function(){'use strict';var q=h.getClickTrackingParent(this.$MSnowflakeLink2);return q&&q.id;};p.prototype.getPermalinkURI=function(){'use strict';return new k(this.$MSnowflakeLink3).addQueryData('photo_id',this.$MSnowflakeLink5);};p.prototype.getModalDialogURI=function(){'use strict';return new k(this.$MSnowflakeLink2.getAttribute('href')).addQueryData('cached_data',this.$MSnowflakeLink1).addQueryData('ftid',this.getFeedTrackingOwnerID());};p.prototype.onClick=function(q){'use strict';l.remove(this.$MSnowflakeLink2);j.openWithPermalinkURI(this.getModalDialogURI().toString(),this.getPermalinkURI());q.kill();};p.prototype.$MSnowflakeLink7=function(){'use strict';if(!this.$MSnowflakeLink4){this.$MSnowflakeLink1=true;return;}var q=n.listen('m:photosetstore:update',null,function(event){var r=(event.getData()||{}).set_token;if(!q||r!=this.$MSnowflakeLink4)return;this.$MSnowflakeLink1=true;q.remove();q=null;}.bind(this));o(function(){return q&&q.remove();});};f.exports=p;}),null);
__d('MReactionsBlingBar',['MLiveData','Stratcom','SubscriptionsHandler','UFIReactionIcons','UFIReactionTypes','createIxElement','cx','fbt'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=l.ordering.reduce(function(r,s,t){r[s]=t;return r;},{});function q(r){'use strict';var s=h.get(r.feedbackTargetID),t=new j();t.addSubscriptions(i.listen('m:page:unload',null,this.onUnload.bind(this)),s.listen('change',this.onChange.bind(this)));var u=r.elements;this.container=u.container;this.feedbackTarget=s;this.isPermalink=r.isPermalink;this.requestID=r.requestID;this.subscriptions=t;}q.prototype.onChange=function(){'use strict';var r=this.feedbackTarget.getData(),s=r.reactioncountmap,t=r.request_id;if(t===this.requestID||!s)return;var u=l.ordering.filter(function(ga){var ha=s[ga];return ha&&ha['default']>0;}).sort(function(ga,ha){var ia=s[ga]['default'],ja=s[ha]['default'];if(ia===ja)return p[ga]-p[ha];return ja-ia;}).slice(0,3).map(function(ga,ha){var ia=document.createElement('div');ia.className="_1g05";ia.style.zIndex=3-ha;ia.appendChild(m(k[ga][16]));return ia;}),v=u.reduce(function(ga,ha){ga.appendChild(ha);return ga;},document.createElement('span'));v.className="_qfz";var w=document.createElement('div');w.className="_1w1k";w.appendChild(v);var x=r.comment_count,y=r.share_count,z=r.reactionsentences.current&&r.reactionsentences.current.text,aa=document.createElement('div');aa.className="_1g06";aa.setAttribute('aria-label',o._("{count} reacted",[o.param('count',z)]));aa.textContent=z;w.appendChild(aa);var ba=this.container,ca=document.createElement('div');ca.className="_1fnt";if(!this.isPermalink){if(x>0){var da=document.createElement('span');da.className="_1j-c";da.textContent=x===1?o._("1 Comment"):o._("{count} Comments",[o.param('count',r.reduced_comment_count)]);ca.appendChild(da);}if(y>0){var ea=document.createElement('span');ea.className="_1j-c";ea.textContent=y===1?o._("1 Share"):o._("{count} Shares",[o.param('count',r.reduced_share_count)]);ca.appendChild(ea);}}while(ba.hasChildNodes())ba.removeChild(ba.firstChild);if(z||x||y){var fa=document.createDocumentFragment();fa.appendChild(w);fa.appendChild(ca);ba.appendChild(fa);}};q.prototype.onUnload=function(){'use strict';this.subscriptions.release();this.subscriptions=null;};f.exports={init:function r(s){new q(s);}};}),null);
__d('SaveState',[],(function a(b,c,d,e,f,g){var h={SAVING:'saving',SAVED:'saved',UNSAVING:'unsaving',UNSAVED:'unsaved'};f.exports=h;}),null);
__d('SaveStateHandler',['SaveState'],(function a(b,c,d,e,f,g,h){var i=null;function j(){'use strict';this.$SaveStateHandler1={};this.$SaveStateHandler2={};}j.prototype.addListener=function(k,l){'use strict';if(!this.$SaveStateHandler1[k])this.$SaveStateHandler1[k]=[];this.$SaveStateHandler1[k].push(l);};j.prototype.setState=function(k,l){'use strict';k.forEach(function(m){this.$SaveStateHandler2[m]=l;if(!this.$SaveStateHandler1[m])return;var n=this.$SaveStateHandler1[m];n.forEach(function(o){try{o.call(window,l);}catch(p){}});},this);};j.prototype.getState=function(k){'use strict';return this.$SaveStateHandler2[k];};j.$SaveStateHandler3=function(){'use strict';if(!i)i=new j();return i;};j.listen=function(k,l){'use strict';this.$SaveStateHandler3().addListener(k,l);};j.getState=function(k){'use strict';return this.$SaveStateHandler3().getState(k);};j.saving=function(k){'use strict';this.$SaveStateHandler3().setState(k,h.SAVING);};j.saved=function(k){'use strict';this.$SaveStateHandler3().setState(k,h.SAVED);};j.unsaving=function(k){'use strict';this.$SaveStateHandler3().setState(k,h.UNSAVING);};j.unsaved=function(k){'use strict';this.$SaveStateHandler3().setState(k,h.UNSAVED);};j.isSaveAction=function(k){'use strict';var l=this.$SaveStateHandler3().getState(k);return l==h.UNSAVED||l==h.UNSAVING;};j.isInTransition=function(k){'use strict';var l=this.$SaveStateHandler3().getState(k);return l==h.SAVING||l==h.UNSAVING;};f.exports=j;}),null);
__d('MShareAngoraAttachment',['Stratcom'],(function a(b,c,d,e,f,g,h){var i=false,j=function k(l){if(i)return;i=true;window.addEventListener('error',function(event){if(event.target.nodeName=='IMG'){for(var m=event.target;m!=document.body&&!h.hasSigil(m,'shareAngoraAttachmentMedia');m=m.parentNode);if(m!=document.body)m.style.display='none';}},true);};g.registerDeadImageListener=j;}),null);
__d('MExposeMore',['CSS','DOM','Stratcom'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k=[];function l(){while(k.length)k.pop().remove();}var m='expose';j.listen('click',[m,'more'],function(event){var o=event.getNode(m);h.conditionClass(o,'text_exposed',true);event.prevent();});var n={showMessageSuffixOnClick:function o(p,q){if(q.children.length!==0){if(!k.length)k.push(j.listen('m:page:unload',null,l));var r=i.scry(p,'*','more')[0];if(r)k.push(i.listen(r,'click',null,function(event){h.show(q);event.prevent();}));}}};f.exports=n;}),null);
__d("XPlacesUpdateLocationController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/places\/location_update\/",{json_location:{type:"String"},source:{type:"Enum",defaultValue:"msite_unknown",enumType:1}});}),null);
__d('MLocationPrompt',['DOM','MRequest','Stratcom','WebStorage','XPlacesUpdateLocationController','MTaggingCounter','MTaggingCounterEvent','ViewerLocationSource'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=['latitude','longitude','accuracy','altitude','altitudeAccuracy','heading','speed'],q={enableHighAccuracy:true,timeout:60000,maximumAge:300000},r=60000;s.init=function(t,u,v,w){'use strict';return new s(t,u,v,w);};s.getCoords=function(){'use strict';return s.coords;};s.isLocationAvailable=function(){'use strict';return s.locationAvailable;};function s(t,u,v,w){'use strict';this.lastUpdateTime=0;this.container=t;this.question=u;this.loading=v;this.errored=w;var x=k.getLocalStorage();if(x&&x.getItem(s.GEOLOCATION_KEY)==='1'){this.$MLocationPrompt1();}else{s.locationAvailable=false;h.show(this.question);h.hide(this.loading);h.hide(this.errored);h.show(this.container);j.invoke('m:jewel-set:notifications-jewel:refresh-flyout');m.logEvent(n.GEO_PANEL_LOAD);}this.listeners=[j.listen('click','accept-location',this.$MLocationPrompt2.bind(this)),j.listen('click','deny-location',this.$MLocationPrompt3.bind(this)),j.listen('m:page:unload',null,this.$MLocationPrompt4.bind(this))];}s.prototype.clearWatch=function(){'use strict';if(!this.watchID)return;navigator.geolocation.clearWatch(this.watchID);this.watchID=null;};s.prototype.$MLocationPrompt2=function(){'use strict';m.logEvent(n.GEO_PANEL_ACCEPT);this.$MLocationPrompt1(true);};s.prototype.$MLocationPrompt1=function(t){'use strict';s.locationAvailable=true;var u=k.getLocalStorage();if(u)u.setItem(s.GEOLOCATION_KEY,"1");h.show(this.container);h.hide(this.question);h.show(this.loading);h.hide(this.errored);j.invoke('m:jewel-set:notifications-jewel:refresh-flyout');var v=setTimeout(this.$MLocationPrompt5,q.timeout);this.watchID=navigator.geolocation.watchPosition(function(w){if(t)m.logEvent(n.GEO_PANEL_SUCCESS);clearTimeout(v);this.$MLocationPrompt6(w);}.bind(this),function(w){if(t)m.logEvent(n.GEO_PANEL_FAIL);clearTimeout(v);this.$MLocationPrompt5(w);}.bind(this),q);j.invoke(s.STRATCOM_ACCEPT);};s.prototype.$MLocationPrompt3=function(){'use strict';s.locationAvailable=false;m.logEvent(n.GEO_PANEL_DENY);h.hide(this.container);j.invoke('m:jewel-set:notifications-jewel:refresh-flyout');j.invoke(s.STRATCOM_DENY);};s.prototype.$MLocationPrompt6=function(t){'use strict';s.locationAvailable=true;if(t){var u={},v;for(var w=0;w<p.length;w++){v=p[w];if(t.coords[v])u[v]=t.coords[v];}if(t.timestamp)u.timestamp=t.timestamp/1000;this.$MLocationPrompt7(JSON.stringify(u));h.hide(this.container);s.coords=u;j.invoke('m:jewel-set:notifications-jewel:refresh-flyout');j.invoke(s.STRATCOM_UPDATE,null,{position:t});}};s.prototype.$MLocationPrompt5=function(t){'use strict';s.locationAvailable=false;this.clearWatch();var u=k.getLocalStorage();if(u)u.setItem(s.GEOLOCATION_KEY,"0");h.show(this.container);h.hide(this.question);h.hide(this.loading);h.show(this.errored);j.invoke('m:jewel-set:notifications-jewel:refresh-flyout');j.invoke(s.STRATCOM_FAIL,null,{error:t});m.logEvent(n.GEO_PANEL_FAIL);};s.prototype.$MLocationPrompt7=function(t){'use strict';var u=Date.now();if(u-this.lastUpdateTime>r){this.lastUpdateTime=u;var v=l.getURIBuilder().setString('json_location',t).setEnum('source',o.MSITE_LOCATION_PROMPT).getURI();new i(v).setMethod('POST').send();}};s.prototype.$MLocationPrompt4=function(){'use strict';if(!this.listeners)return;for(var t=0;t<this.listeners.length;t++)this.listeners[t].remove();this.listeners=[];};Object.assign(s,{STRATCOM_ACCEPT:'MLocationPrompt/accept',STRATCOM_DENY:'MLocationPrompt/deny',STRATCOM_UPDATE:'MLocationPrompt/update',STRATCOM_FAIL:'MLocationPrompt/fail',GEOLOCATION_KEY:'authorizeGeolocation',locationAvailable:undefined});f.exports=s;}),null);
__d('MShareFlyout',['setTimeoutAcrossTransitions','cx','DOM','MLegacyDataStore','fbt','ge','MCompositionConfigFields','MCompositionShareFields','MComposition','MComposerEntry','MComposerTypes','MCompositionStoreID','MModalDialog','MParent','MRequest','MViewport','promiseFinally','Stratcom','SubscriptionsHandler','Vector','URI'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba){'use strict';var ca='mufi-inline',da='share-one-click-button',ea='share-post-one-click-button',fa='share-with-message-button',ga='share-in-a-private-message-button',ha='oneClickShareResult',ia=6000,ja='share-to-page-button',ka='share-to-group-button',la='/a/sharer.php',ma='/sharer-dialog.php',na='share-misinfo-header',oa='share-misinfo-body',pa='share-popup-causal',qa='share-popup',ra='share-popup-misinfo',sa,ta,ua,va,wa,xa,ya,za={},ab={},bb=[],cb,db,eb,fb=void 0,gb=void 0,hb=void 0;function ib(yb,zb,ac,bc){if(sa)return;cb=zb;sa=yb;ta=yb.getRoot();db=ac;var cc=bc||{};fb=cc.bluebarNoOverlapBuffer;t.init();sb();}function jb(yb){if(gb)return;gb=yb;hb=new z();hb.addSubscriptions(gb.addListener('beforeshow',function(){var zb=gb.getCausalElement(),ac=k.get(zb),bc=gb.getRoot(),cc=j.scry(bc,'*',na)[0];j.setContent(cc,j.create('span',ac.misinfo_title));var dc=j.scry(bc,'*',oa)[0];j.setContent(dc,j.create('span',ac.misinfo_description));}),y.listen('click',pa,function(){var zb=gb.getCausalElement();if(sa){sa.setContext(zb);y.removeSigil(zb,ra);y.addSigil(zb,qa);gb.hide();sa.show();}}),y.listen('m:page:unload',null,tb));}function kb(yb){if(t.isOpen()){t.load(yb);}else t.open(yb);}function lb(){var yb=new v(la);yb.setMethod('POST');yb.addData({m:'oneclick',privacyx:cb,sid:va,shareID:va,fs:wa,fr:xa,internal_preview_image_id:ua,should_share_post:eb,direct:true,_ft_:ya});yb.send();sa.hide();}function mb(){if(db){var yb={};yb[o.ID]=va;yb[o.FEEDBACK_SOURCE]=wa;yb[o.FEEDBACK_REFERRER]=xa;var zb={};zb[n.COMPOSER_TYPE]=r.SHARE;zb[n.COMPOSER_TITLE]=l._("Share");zb[n.CONTEXTUAL_MESSAGE]=l._("Share on your timeline");zb[n.PLACEHOLDER]=l._("Write something...");zb[n.DISABLE_PHOTOS]=true;var ac=w.getScrollTop();x(q.invoke(new p().setStoreData(s.CONFIG,zb).setStoreData(s.SHARE,yb)),function(){return w.scrollTo(0,ac);});}else{kb(new ba(ma).setQueryData({fs:wa,fr:xa,sid:va,_ft_:ya,internal_preview_image_id:ua}).toString());sa.hide();}}function nb(yb){kb(new ba(ma).setQueryData({fs:wa,fr:xa,m:yb,sid:va,_ft_:ya,internal_preview_image_id:ua}).toString());sa.hide();}function ob(){kb(new ba(ma).setQueryData({fs:wa,fr:xa,m:'message',sid:va,u:window.location.href,internal_preview_image_id:ua}).toString());sa.hide();}function pb(yb){yb&&j.hide(yb);}function qb(yb){yb&&j.show(yb);}function rb(yb,zb){var ac=zb&&zb.is_comment_share,bc=j.scry(yb,'a',ea)[0],cc=j.scry(yb,'a',da)[0];if(ac&&!za[va]){pb(bc);pb(cc);}else if(eb){qb(bc);pb(cc);}else{qb(cc);pb(bc);}}function sb(){bb=[sa.addListener('beforeshow',function(){if(fb!=null){var yb=w.getScrollTop();if(yb<fb&&m('header')){sa.setAutoflipTopOffset(fb-yb);}else sa.setAutoflipTopOffset(0);}var zb=sa.getContext(),ac=k.get(zb);eb=ac.reshare_post;va=ac&&ac.share_id;wa=ac&&ac.feedback_source;xa=ac&&ac.feedback_referrer;ua=ac&&ac.internal_preview_image_id;var bc=u.bySigil(zb,'story-div');ya=bc?k.get(bc).linkdata:null;if(va)za[va]=ub(zb);rb(ta,ac);}),y.listen('click',da,lb),y.listen('click',ea,lb),y.listen('click',fa,mb),y.listen('click',ga,ob),y.listen('click',ja,function(){nb('page');}),y.listen('click',ka,function(){nb('group');}),y.listen('m:page:unload',null,tb)];}function tb(){sa=null;gb=null;for(var yb in ab)clearTimeout(ab[yb]);ab={};while(bb.length)bb.pop().remove();if(hb)hb.release();}function ub(yb){if(!yb||yb===document||yb instanceof DocumentFragment)return null;if(y.hasSigil(yb,ca))return yb;return u.bySigil(yb,ca);}function vb(yb,zb){var ac=j.scry(yb,'div',ha);ac[0]&&j.remove(ac[0]);var bc=j.create('div',{className:"_4_m7"},zb);y.addSigil(bc,ha);j.appendContent(yb,bc);return bc;}function wb(yb,zb){var ac=za[zb];delete za[zb];if(!ac)return;var bc=vb(ac,yb),cc=aa.getPos(ac),dc=aa.getDim(ac).y,ec=w.getScrollTop(),fc=w.getScrollHeight();if(cc.y<ec||cc.y+dc>ec+fc)w.scrollTo(cc.x,cc.y-250);ab[zb]=h(function(){delete ab[zb];j.remove(bc);},ia);}function xb(yb,zb){var ac=za[zb];delete za[zb];if(!ac)return;if(aa.getPos(ac).y>=w.getScrollTop()){var bc=vb(ac,yb);ab[zb]=h(function(){delete ab[zb];if(aa.getPos(ac).y>=w.getScrollTop())j.remove(bc);},ia);}}g.init=ib;g.initMisinfo=jb;g.onSuccess=xb;g.onFailure=wb;}),null);
__d('MMoreItemAutomatic',['MLocationPrompt','MPageCache','MPageControllerPath','MRequest','MRequestGateway','MRequestTypes','MResponseData','MStopNGo','MURI','MViewport','Stratcom','Vector','createDeprecatedProperties','throttle'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){function v(w){'use strict';this._onScrollPrefetch=function(){if(this._insertWhileScrolling){this._onGo();}else if(!this._itemsLoaded&&!this._requestSent)this._sendRequestIfScrolledDown();}.bind(this);this._href=w.href;this._sendGeolocation=w.sendGeolocation;this._proximityPages=w.proximity_pages||7;this._loggerID=w.logger_id;this._loggerName=w.logger_name;this._loadImmediately=w.load_first_immediately;this._retryOnError=w.retryOnError;this._addToCache=w.addToCache;this._alwaysProcess=w.alwaysProcess;this._scrollPrefetchThrottleFreq=w.scrollPrefetchThrottleFreq||0;this._insertWhileScrolling=w.insertWhileScrolling;var x=document.getElementById(w.id);if(x){this._verticalOffset=s.getPos(x).y;this.setMoreItem(x);this.setPersistOnReload(w.persist_on_reload);this._setUpSendRequest();}else this.uninstall();}v.prototype.isElementVisible=function(){'use strict';if(!this._isElementRendered())return false;var w,x=this.getMoreItem();if('getBoundingClientRect' in x){var y=x.getBoundingClientRect(),z=y.width/10,aa=y.height/10,ba=y.left,ca=y.right,da=y.top,ea=y.bottom,fa;while(fa!==x&&ba<=ca&&da<=ea){ba+=z;da+=aa;fa=document.elementFromPoint(Math.round(ba),Math.round(da));}w=fa===x;}else{var ga=s.getPos(x).y,ha=ga+s.getDim(x).y,ia=q.getScrollTop(),ja=ia+q.getUseableHeight();w=ga<=ja&&ha>=ia;}return w;};v.prototype._checkScrolledIntoFetched=function(){'use strict';var w=this.getMoreItem();if(w)if(this._verticalOffset-q.getScrollTop()<0){r.invoke('m:more_item_automatic:items_visible',this._loggerID);this.uninstall();}};v.prototype._onGo=function(){'use strict';if(!this._itemsLoaded){this._readyToUpdate=true;if(this.isElementVisible())r.invoke('m:more_item_automatic:spinner_visible',this._loggerID);if(!this._requestSent){this._sendRequestIfScrolledDown();}else this._updateItems();}else this._checkScrolledIntoFetched();};v.prototype._onStop=function(){'use strict';if(!this._itemsLoaded)this._readyToUpdate=false;};v.prototype._onAjaxPageLoad=function(){'use strict';if(!this._requestSent&&(this._loadImmediately||this.isElementVisible())){this._sendRequest();this._loadImmediately=false;}};v.prototype._setUpSendRequest=function(){'use strict';if(!this._requestSent&&(this._loadImmediately||this.isElementVisible())){this._sendRequest();this._loadImmediately=false;}this._listeners=[];if(this._scrollPrefetchThrottleFreq>0)this._listeners.push(r.listen(['m:page:render:complete','scroll'],null,u.withBlocking(this._onScrollPrefetch,this._scrollPrefetchThrottleFreq,this)));if(!this._insertWhileScrolling)this._listeners.push(o.listen('go',this._onGo.bind(this)),o.listen('stop',this._onStop.bind(this)));this._listeners.push(r.listen('m:ajax:complete',null,this._onAjaxPageLoad.bind(this)));};v.prototype._existsOnPage=function(){'use strict';var w=this.getMoreItem();return w?document.documentElement.contains(w):false;};v.prototype.uninstall=function(){'use strict';while(this._listeners&&this._listeners.length)this._listeners.pop().remove();this._requestSent=false;this._prefetchResponse=null;this.setMoreItem(null);this.setPersistOnReload(false);clearTimeout(this._retryTimeout);clearTimeout(this._sendTimeout);};v.prototype.withinProximity=function(){'use strict';var w=this.getMoreItem();return w&&s.getPos(w).y-q.getScrollTop()<q.getUseableHeight()*(1+this._proximityPages);};v.prototype._updateItems=function(){'use strict';if(this._prefetchResponse){if(this._existsOnPage()){this._prefetchResponse.process();if(this._addToCache)i.addCachedIUIResponse(j.getRequestPath(),this._prefetchResponse);}r.invoke('m:more_item_automatic:items_loaded',this._loggerID);this._itemsLoaded=true;}};v.prototype._isElementRendered=function(){'use strict';var w=this.getMoreItem();if(!w||!w.offsetHeight)return false;return true;};v.prototype._sendRequestIfScrolledDown=function(){'use strict';if(this.isElementVisible()||this._isElementRendered()&&q.getScrollTop()>100&&this.withinProximity())this._sendRequest();};v.prototype._sendRequest=function(){'use strict';var w=h.getCoords();if(this._sendGeolocation&&w)this._href=new p(this._href).addQueryData('lat',w.latitude).addQueryData('long',w.longitude).toString();var x=new k(new p(this._href).toString());if(this._alwaysProcess){x.setType(m.INDEPENDENT);}else x.setType(m.DEPENDENT);x.setAutoProcess(false);var y=[],z=false,aa=function ba(){if(!z&&y.length){z=true;y.shift().process();}};if(this._retryOnError){x.setTimeout(l.ERROR_TIMEOUT);x.listen('error',function(ba,ca){this._retryTimeout=setTimeout(function(){if(navigator.onLine){ca.reset();ca.addData({is_retry:1});ca.sendAfterProcessing();}}.bind(this),v.TRY_AGAIN_DELAY);});}x.listen('response',function(ba){ba=new n(ba);ba.listen('complete',function(){z=false;aa();});if(ba.isPagelet()){y.push(ba);aa();return;}z=true;this._prefetchResponse=ba;if(this._readyToUpdate)this._updateItems();}.bind(this));x.send();this._requestSent=true;};t(v,{moreItem:null,persistOnReload:false});Object.assign(v.prototype,{_requestSent:false,_readyToUpdate:true,_moreStartTime:0,_moreLogged:false,_proximityPages:null,_prefetchResponse:null,_listeners:null,_href:null,_loggerName:null,_loggerID:null,_itemsLoaded:false,_verticalOffset:0});Object.assign(v,{TRY_AGAIN_DELAY:1500});f.exports=v;}),null);
__d('InitMMoreItemAutomatic',['MMoreItemAutomatic','Stratcom'],(function a(b,c,d,e,f,g,h,i){var j,k=function l(m){if(!j){j={};i.listen('m:page:loading',null,function(o){for(var p in j)if(!j[p].getPersistOnReload()){j[p].uninstall();delete j[p];}});}var n=m.id;if(j[n])j[n].uninstall();j[n]=new h(m);};g.main=k;}),null);
__d('MMoreItemAutomaticLogger',['Stratcom','MarauderLogger'],(function a(b,c,d,e,f,g,h,i){function j(k,l){this._loggerName=k;this._loggerID=l;this._listeners=[h.listen('m:page:unload',null,this._pageUnload.bind(this)),h.listen('m:more_item_automatic:spinner_visible',null,this._onSpinnerVisible.bind(this)),h.listen('m:more_item_automatic:items_loaded',null,this._onItemsLoaded.bind(this)),h.listen('m:more_item_automatic:items_visible',null,this._onItemsVisible.bind(this))];}Object.assign(j.prototype,{_loggerName:'',_loggerID:'',_spinnerUnloaded:false,_spinnerVisible:false,_spinnerStartTime:null,_cleanup:function k(){while(this._listeners&&this._listeners.length)this._listeners.pop().remove();},_pageUnload:function k(){if(this._spinnerVisible){this._spinnerUnloaded=true;this._logLoadingSpinnerTime(this._getTimeSpan(),true);}this._cleanup();},_onSpinnerVisible:function k(event){if(event.getPath()[0]===this._loggerID&&!this._spinnerVisible){this._spinnerVisible=true;this._spinnerStartTime=Date.now();}},_onItemsLoaded:function k(event){if(event.getPath()[0]===this._loggerID&&!this._spinnerUnloaded){this._logLoadingSpinnerTime(this._getTimeSpan(),false);this._spinnerVisible=false;this._spinnerStartTime=null;}},_onItemsVisible:function k(event){if(event.getPath()[0]===this._loggerID)this._logItemsVisible();},_getTimeSpan:function k(){return this._spinnerVisible?Date.now()-this._spinnerStartTime:0;},_logLoadingSpinnerTime:function k(l,m){i.log('m_more_items_automatic_spinner_visible_time',undefined,{name:this._loggerName,id:this._loggerID,visible_time:l,spinner_unloaded:m});},_logItemsVisible:function k(){i.log('m_more_items_automatic_fetched_items_visible',undefined,{name:this._loggerName,id:this._loggerID});this._cleanup();}});j.init=function(k,l){new j(k,l);};f.exports=j;}),null);
__d('MLayer',['setTimeoutAcrossTransitions','BehaviorsMixin','CSS','MLegacyDataStore','DOM','MContextualThing','mixin','mixInEventEmitter','Stratcom','ge'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r,s,t=[],u={};r=babelHelpers.inherits(v,n(i));s=r&&r.prototype;function v(z){'use strict';s.constructor.call(this);this.config=z||{};this.$MLayer1=null;this.$MLayer2=false;this.$MLayer3=false;this.$MLayer4=null;}v.prototype.init=function(z){'use strict';if(this.config.layerid){if(u[this.config.layerid])return;u[this.config.layerid]=this;}this.configure(this.config,z);var aa=this.config.addedBehaviors||[];this.enableBehaviors(this.getDefaultBehaviors().concat(aa));var ba=q("flyout-nocontext-root");if(!ba)ba=l.create('div',{id:'flyout-nocontext-root'});l.appendContent(document.body,ba);l.appendContent(ba,this.getRoot());l.hide(this.getRoot());};v.prototype.configure=function(z,aa){'use strict';this.$MLayer1=this.buildWrapper(z,aa);p.addSigil(this.$MLayer1,'m-layer-root');var ba=z.attributes;if(ba){if(ba.sigil){var ca=ba.sigil.split(' ');ca.forEach(function(ea){p.addSigil(this.$MLayer1,ea);},this);delete ba.sigil;}for(var da in ba)this.$MLayer1.setAttribute(da,ba[da]);}if(z.classNames)z.classNames.forEach(function(ea){j.conditionClass(this.$MLayer1,ea,true);},this);if(z.causalElement)this.$MLayer4=z.causalElement;k.set(this.$MLayer1,{layer:this});};v.prototype.getDefaultBehaviors=function(){'use strict';return [];};v.prototype.getCausalElement=function(){'use strict';return this.$MLayer4;};v.prototype.setCausalElement=function(z){'use strict';this.$MLayer4=z;return this;};v.prototype.getInsertParent=function(){'use strict';return this.insertParent||document.body;};v.prototype.getRoot=function(){'use strict';return this.$MLayer1;};v.prototype.getContentRoot=function(){'use strict';return this.$MLayer1;};v.prototype.buildWrapper=function(z,aa){'use strict';return aa;};v.prototype.setInsertParent=function(z){'use strict';if(z){if(this.$MLayer2&&z!==this.getInsertParent()){l.appendContent(z,this.getRoot());this.updatePosition();}this.insertParent=z;}return this;};v.prototype.show=function(){'use strict';if(this.$MLayer2)return this;var z=this.getRoot(),aa=this.getInsertParent();if(z.parentNode!==aa)l.appendContent(aa,z);this.emit('beforeshow');z.style.visibility='hidden';z.style.overflow='hidden';l.show(z);if(this.updatePosition()!==false){this.$MLayer2=true;this.emit('show');p.invoke('Layer:show',null,this);h(function(){if(this.$MLayer2)t.push(this);}.bind(this));}else l.hide(z);z.style.visibility='';z.style.overflow='';this.emit('aftershow');return this;};v.prototype.hide=function(){'use strict';if(this.$MLayer3||!this.$MLayer2||this.emit('beforehide')===false)return this;this.$MLayer3=true;if(this.emit('starthide')!==false)this.finishHide();return this;};v.prototype.conditionShow=function(z){'use strict';return z?this.show():this.hide();};v.prototype.finishHide=function(){'use strict';if(this.$MLayer2){t.splice(t.indexOf(this),1);this.$MLayer3=false;this.$MLayer2=false;l.hide(this.getRoot());this.emit('hide');p.invoke('m:layer:hide',null,this);}return this;};v.prototype.isShown=function(){'use strict';return this.$MLayer2;};v.prototype.updatePosition=function(){'use strict';return true;};v.prototype.updateIfShown=function(){'use strict';this.isShown()&&this.updatePosition();};v.prototype.isDestroyed=function(){'use strict';return this.destroyed;};v.prototype.destroy=function(){'use strict';if(this.destroyed)return;this.destroyed=true;this.finishHide();var z=this.getRoot();l.remove(z);this.destroyBehaviors();this.emit('destroy');p.invoke('Layer:destroy',null,this);delete k.get(z).layer;this.$MLayer1=this.$MLayer4=null;if(this.config.layerid)delete u[this.config.layerid];this.config=null;};v.prototype.shouldBlurOnTouchEnd=function(){'use strict';return true;};o(v,{destroy:true,blur:true,beforeshow:true,show:true,aftershow:true,beforehide:true,starthide:true,hide:true});Object.assign(v,{show:function z(aa){aa.show();}});var w;function x(event){var z=event.getTouch(),aa=z.clientX,ba=z.clientY;w={x:aa,y:ba};}function y(event){var z=t.length;if(!z)return;var aa=event.getTarget(),ba=event.getType();if(!document.documentElement.contains(aa))return;if(ba==='touchend'&&w){var ca=event.getTouch(),da=ca.clientX,ea=ca.clientY,fa=Math.sqrt(Math.pow(w.x-da,2)+Math.pow(w.y-ea,2));w=null;if(fa>5)return;}while(z--){var ga=t[z];if(!ga.isShown())continue;var ha=ga.getContentRoot();if(m.containsIncludingLayers(ha,aa))return;var ia=ga.getCausalElement();if(ba==='touchend'&&(ia.contains(aa)||ia===aa||!ga.shouldBlurOnTouchEnd()))continue;if(ga.emit('blur')===false||ga.isShown())return;}}p.listen('touchstart',null,x);p.listen('click',null,y);p.listen('touchend',null,y);f.exports=v;}),null);
__d('MLayerDestroyOnHide',[],(function a(b,c,d,e,f,g){function h(i){'use strict';this.$MLayerDestroyOnHide1=i;this.$MLayerDestroyOnHide2;}h.prototype.enable=function(){'use strict';this.$MLayerDestroyOnHide2=this.$MLayerDestroyOnHide1.addListener('hide',this.$MLayerDestroyOnHide1.destroy.bind(this.$MLayerDestroyOnHide1));};h.prototype.disable=function(){'use strict';this.$MLayerDestroyOnHide1=null;this.$MLayerDestroyOnHide2.remove();this.$MLayerDestroyOnHide2=null;};f.exports=h;}),null);
__d('MLayerDestroyOnTransition',['Stratcom'],(function a(b,c,d,e,f,g,h){function i(j){'use strict';this.$MLayerDestroyOnTransition1=null;this.$MLayerDestroyOnTransition2=j;}i.prototype.enable=function(){'use strict';this.$MLayerDestroyOnTransition1=h.listen('m:page:unload',null,this.$MLayerDestroyOnTransition2.destroy.bind(this.$MLayerDestroyOnTransition2));};i.prototype.disable=function(){'use strict';this.$MLayerDestroyOnTransition1.remove();this.$MLayerDestroyOnTransition1=null;};f.exports=i;}),null);
__d('MLayerHideOnBlur',[],(function a(b,c,d,e,f,g){function h(i){'use strict';this.$MLayerHideOnBlur1=null;this.$MLayerHideOnBlur2=null;this.$MLayerHideOnBlur3=i;}h.prototype.enable=function(){'use strict';this.$MLayerHideOnBlur1=[this.$MLayerHideOnBlur3.addListener('show',this.$MLayerHideOnBlur4.bind(this)),this.$MLayerHideOnBlur3.addListener('hide',this.$MLayerHideOnBlur5.bind(this))];if(this.$MLayerHideOnBlur3.isShown())this.$MLayerHideOnBlur4();};h.prototype.disable=function(){'use strict';this.$MLayerHideOnBlur5();while(this.$MLayerHideOnBlur1.length)this.$MLayerHideOnBlur1.pop().remove();this.$MLayerHideOnBlur1=null;};h.prototype.$MLayerHideOnBlur5=function(){'use strict';this.$MLayerHideOnBlur2&&this.$MLayerHideOnBlur2.remove();this.$MLayerHideOnBlur2=null;};h.prototype.$MLayerHideOnBlur4=function(){'use strict';this.$MLayerHideOnBlur2=this.$MLayerHideOnBlur3.addListener('blur',function(){this.$MLayerHideOnBlur3.hide();}.bind(this));};f.exports=h;}),null);
__d('MLinkshim',['$','setTimeoutAcrossTransitions','AsyncSignal','Stratcom','MLegacyDataStore','LinkshimHandlerConfig'],(function a(b,c,d,e,f,g,h,i,j,k,l,m){var n='MLinkshim',o={onClick:function p(q){var r=q.getNode(n),s=l.get(r);o.click(r,s.dest_uri,s.logging_uri);},click:function p(q,r,s){var t=h('meta_referrer');t.content=m.switched_meta_referrer_policy;q.href=r;i(function(){t.content=m.default_meta_referrer_policy;new j(s,{}).send();},100);}};k.listen('click',n,o.onClick);f.exports=o;}),null);
__d('intlSummarizeNumber',['fbt','formatNumber'],(function a(b,c,d,e,f,g,h,i){function j(k){var l=arguments.length<=1||arguments[1]===undefined?0:arguments[1];k=parseFloat(k.toFixed(l));if(Math.abs(k)<1000)return i(k,l);k=parseFloat((k/1000).toFixed(l||1));if(Math.abs(k)<1000)return String(h._("{number}K",[h.param('number',i(k,l||k%1&&1))]));k=parseFloat((k/1000).toFixed(l||1));if(Math.abs(k)<1000)return String(h._("{number}M",[h.param('number',i(k,l||k%1&&1))]));k=parseFloat((k/1000).toFixed(l||1));return String(h._("{number}B",[h.param('number',i(k,l||k%1&&1))]));}f.exports=j;}),null);
__d('MUFI',['BanzaiLogger','ClientIDs','MLiveData','Stratcom','UFICommentLikeSubscription','UFICommentSubscription','UFILikeSubscription','UFIReactionsUtils','URI','destroyOnUnload','intlSummarizeNumber'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s='m_live_ufi',t,u=[],v=function ga(event){var ha=event.getData();if(ha)ea(ha,true);},w=function ga(ha,ia){h.log('LiveWWWFeedbackLoggerConfig',{event:'receive_payload',is_m_site:true,mechanism:'graphql_subscriptions',time_since_sub:ia,update_type:ha});},x=function ga(ha,ia){var ja=l.subscribe(ha,function(ka){aa(ha,ka,Date.now()-ia);});u.push(ja);},y=function ga(ha,ia){var ja=n.subscribe(ha,function(ka){ba(ha,ka,Date.now()-ia);});u.push(ja);},z=function ga(ha,ia){var ja=m.subscribe(ha,function(ka){ca(ha,ka,Date.now()-ia);});u.push(ja);},aa=function ga(ha,ia,ja){w('comment_like',ja);var ka=ia&&ia.comment_like_subscribe&&ia.comment_like_subscribe.feedback;if(!ka)return;ea({action_data:{action_type:'m-action-like-comment',client_id:ia.comment_like_subscribe.client_mutation_id},feedback_data:{ft_ent_identifier:ka.legacy_comment_token,has_viewer_liked:ka.does_viewer_like,like_count:ka.likers?ka.likers.count:0,request_id:null}});},ba=function ga(ha,ia,ja){w('like',ja);var ka=ia&&ia.feedback_like_subscribe&&ia.feedback_like_subscribe.feedback;if(!ka)return;var la=ka.viewer_feedback_reaction_info?ka.viewer_feedback_reaction_info.key:0,ma=ka.viewer_likes_count&&ka.viewer_likes_count.text,na=ka.viewer_does_not_like_count&&ka.viewer_does_not_like_count.text,oa=ka.viewer_likes_sentence,pa=ka.viewer_does_not_like_sentence,qa=ka.viewer_likes_reaction_sentence,ra=ka.viewer_does_not_like_reaction_sentence,sa=o.getReactionCountMapFromSummary(ka.reactions_summary),ta,ua,va={};if(ka.does_viewer_like){ua=[oa,pa];ta=[ma,na];va.current=qa;va.alternate=ra;}else{ua=[pa,oa];ta=[na,ma];va.current=ra;va.alternate=qa;}ea({action_data:{action_type:'m-action-like',client_id:ia.feedback_like_subscribe.client_mutation_id},feedback_data:{ft_ent_identifier:ha,has_viewer_liked:ka.does_viewer_like,like_count:ka.likers?ka.likers.count:0,like_fallback:true,like_sentences:ua,like_friend_sentences:ta,like_counts:ta,request_id:null,viewerreaction:la,reactioncount:ka.reactors?ka.reactors.count:0,reactionsentences:va,reactioncountmap:sa}});},ca=function ga(ha,ia,ja){w('comment',ja);var ka=ia&&ia.comment_create_subscribe&&ia.comment_create_subscribe.feedback,la=ia&&ia.comment_create_subscribe&&ia.comment_create_subscribe.comment;if(!ka||!la)return;var ma=la.author,na=ia.comment_create_subscribe.viewer;if(!ma||!na)return;var oa=na.account_user?na.account_user.id:null,pa={id:ma.id,is_friend:ma.is_viewer_friend,is_viewer:!!(oa&&ma.id===oa),name:ma.name,short_name:ma.short_name,profile_pic:ma.prof_pic&&ma.prof_pic.uri,profile_pic_2x:ma.prof_pic_2x&&ma.prof_pic_2x.uri,uri:ma.url},qa=null;if(la.attachments.length){var ra=la.attachments[0],sa=ra.style_list;if(sa&&sa.length&&sa[0]=='sticker'){var ta=ra.target;qa={metadata:{source_uri:ta.img.uri,source_uri_2x:ta.img_2x.uri,width:ta.img.width,height:ta.img.height,frameCount:ta.frame_count,frameRate:ta.frame_rate,framesPerCol:ta.frames_per_column,framesPerRow:ta.frames_per_row,sprite_uri:ta.sprite_img&&ta.sprite_img.uri,sprite_uri_2x:ta.sprite_img_2x&&ta.sprite_img_2x.uri},type:'sticker'};}else if(sa&&sa.length&&sa[0]=='photo'){var ua=ra.target;qa={metadata:{source_uri:ua.photo_img&&ua.photo_img.uri,width:ua.photo_img.width,height:ua.photo_img.height,href:ua.url},type:'photo'};}else if(sa&&sa.length&&sa[0]=='share')qa={type:'share',metadata:{}};}var va=la.m_edit_uri?new p(la.m_edit_uri).removeQueryData('redirect').toString():null,wa=null;if(la.m_inline_reply_data)wa={composer_id:la.m_inline_reply_data.composer_id,placeholder_id:la.m_inline_reply_data.placeholder_id,load_composer_uri:la.m_inline_reply_data.load_uri_raw,logging_target_fbid:la.m_inline_reply_data.logging_id};var xa={};if(la.feedback.reactions_summary){var ya=la.feedback;xa.can_react=ya.can_viewer_react;xa.reactioncount=ya.reactors.count;xa.reactioncountmap=o.getReactionCountMapFromSummary(ya.reactions_summary);xa.reactioncountreduced=ya.reaction_count_reduced?ya.reaction_count_reduced:ya.reactors.count;xa.viewerreaction=ya.viewer_feedback_reaction_info?ya.viewer_feedback_reaction_info.key:0;}var za=ka.comments,ab=ka.comment_count_reduced,bb=ka.top_level_comments,cb=za&&za.count,db=bb.count,eb=bb.display_count;if(cb!=null){db=cb;if(ab!=null){eb=ab;}else eb=r(cb);}ea({action_data:babelHelpers['extends']({action_type:'m-action-add-comment',author:pa,attachment:qa,body:la.body,can_edit:la.can_viewer_edit,can_like:la.feedback.can_viewer_like,can_remove:la.can_viewer_delete,can_reply:la.feedback.can_viewer_comment,can_report:la.can_viewer_report,can_share:la.can_viewer_share,client_id:ia.comment_create_subscribe.client_mutation_id,comment_fbid:la.legacy_fbid,comment_id:la.legacy_token,ft_ent_identifier:ha,has_viewer_liked:la.feedback.does_viewer_like,is_featured:la.is_featured,is_hidden:la.is_hidden_by_viewer||la.spam_display_mode==='spam',is_reply:!!la.parent_comment,is_translatable:la.translation_available_for_viewer,like_count:la.feedback.likers.count,timestamp:la.created_time,like_uri:la.m_like_uri,replies_uri:la.m_replies_uri,report_uri:la.m_report_uri,delete_uri:la.m_delete_uri,edit_uri:va,hide_uri:la.m_hide_uri,inline_reply_data:wa},xa),feedback_data:{ft_ent_identifier:ha,comment_count:db,reduced_comment_count:eb,request_id:null}});},da=function ga(){for(var ha=0;ha<u.length;ha++){var ia=u[ha];ia&&ia.unsubscribe();}u=[];};function ea(ga,ha){var ia=ga.feedback_data,ja=ia&&ia.ft_ent_identifier;if(ja){var ka=ga.action_data;if(ka){var la=ka.action_type,ma=ka.client_id&&i.isExistingClientID(ka.client_id);if(ha){var na=null;if(la==='m-action-add-comment'){na='comment';}else if(la==='m-action-like-comment'){na='comment_like';}else if(la==='m-action-like'||la==='m-action-reaction')na='like';if(na)h.log('LiveWWWFeedbackLoggerConfig',{event:'receive_payload',is_m_site:true,mechanism:'livesend',originated_locally:ma,update_type:na});}if(ma)return;delete ka.client_id;if(la==='m-action-add-comment'&&!ka.is_reply){var oa=Object.keys(j.get(ka.comment_id).getData()).length;if(oa!==0)return;var pa=j.get(ja).getData().comments||[];pa.push(ka.comment_id);ia.comments=pa;j.set(ka.comment_id,ka);}}j.update(ja,ia);}}function fa(ga,ha){if(!ha.gqls){if(!t)t=k.listen(s,null,v);}else{var ia=Date.now();if(ha.likes)y(ga,ia);if(ha.comments)z(ga,ia);if(ha.comment_likes)x(ga,ia);q(da);}}f.exports={addAction:ea,init:fa};}),null);
__d('MUFIComposerFocus',['DOM','MLegacyDataStore','MParent','Parent','Stratcom'],(function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';var m='mufi-composer-focus',n=void 0;function o(v){var w=v.parentNode,x=[];while(w){x.unshift(v);v=w;w=v.parentNode;}return x;}function p(v,w){var x=Math.min(v.length,w.length)-1;for(var y=x;y>=0;y--)if(v[y]===w[y])return y;return -1;}function q(v){if(!v)return null;var w=j.bySigil(v,'story-div')||j.bySigil(v,'snowflake-root')||j.bySigil(v,'notes-root');if(!w)return null;var x=h.scry(w,'*','mufi-composer').filter(function(aa){return !j.bySigil(aa,'m-inline-reply-composer');});if(x.length===1)return x[0];var y=o(v),z=x.reduce(function(aa,ba,ca){var da=o(ba),ea=p(y,da);return ea>=aa[0]?[ea,ba]:aa;},[-1,null]);return z[1];}function r(event){var v=q(event.getNode(m));if(v){event.prevent();v.focus();}}function s(v){if(!v||!n)return false;var w=l.hasSigil(v,m)?v:j.bySigil(v,m);return !!q(w);}function t(event){var v=event.getNode(m),w=q(v);if(w){var x=j.bySigil(v,'touchable');if(x)i.get(x).nativeClick=true;var y=k.byTag(v,'a');if(y instanceof HTMLAnchorElement)y.href='#'+h.uniqID(w);}}function u(){if(!n){l.listen('touchstart',m,t);l.listen('click',m,r);n=true;}}f.exports={init:u,isInitialized:function v(){return n;},isComposerFocusTrigger:s};}),null);
__d('MUFILikeButton',['ActorURI','CSS','DOM','MLegacyDataStore','MLiveData','MParent','MUFIRequest','Stratcom','SubscriptionsHandler','cx','emptyFunction'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s={is_like:1},t={is_like:0};function u(v,w,x,y){'use strict';this.$MUFILikeButton1=v;this.$MUFILikeButton2=l.get(w);this.$MUFILikeButton4=w;this.$MUFILikeButton5=x||{log:r};this.$MUFILikeButton6=y;this.$MUFILikeButton3=new p();this.$MUFILikeButton3.addSubscriptions(j.listen(this.$MUFILikeButton1,'click',null,this.onClick.bind(this)),this.$MUFILikeButton2.listen('change',this.onChange.bind(this)),o.listen('m:page:unload',null,this.onUnload.bind(this)));}u.prototype.onChange=function(){'use strict';var v=this.$MUFILikeButton2.getData();if(v.request_id===this.$MUFILikeButton6)return;var w=v.has_viewer_liked;i.conditionClass(this.$MUFILikeButton1,"_2q8z",w);o.removeSigil(this.$MUFILikeButton1,w?'like':'unlike');o.addSigil(this.$MUFILikeButton1,w?'unlike':'like');};u.prototype.getFeedbackData=function(){'use strict';var v=this.$MUFILikeButton2.getData(),w=v.has_viewer_liked,x=w?v.like_count-1:v.like_count+1,y=v.reduced_like_count;if(!isNaN(y))y=x.toString();return {has_viewer_liked:!w,like_count:x,like_counts:[v.like_counts[1]||null,v.like_counts[0]],like_friend_sentences:[v.like_friend_sentences[1]||null,v.like_friend_sentences[0]],like_sentences:[v.like_sentences[1]||null,v.like_sentences[0]],reduced_like_count:y};};u.prototype.getRequestData=function(){'use strict';return null;};u.prototype.onClick=function(event){'use strict';event.prevent();var v=event.getNode('tag:a');if(!v)v=event.getNode('tag:div');var w=n.getURI(v.getAttribute('href')||v.getAttribute('data-uri'));if(this.$MUFILikeButton2.getData().has_viewer_liked){w.addQueryData('ul',true);w.removeQueryData('reaction_type');}else w.removeQueryData(['ul','reaction_type']);var x=m.bySigil(this.$MUFILikeButton1,'feed-ufi-metadata');if(x){var y=k.get(x).actor_id;if(y)w=h.create(w,String(y));}n.send(this.$MUFILikeButton4,this.getFeedbackData(),w,this.getRequestData());this.$MUFILikeButton5.log('like',undefined,this.$MUFILikeButton2.getData().has_viewer_liked?t:s);};u.prototype.onUnload=function(){'use strict';this.$MUFILikeButton3.release();this.$MUFILikeButton3=null;};f.exports=u;}),null);
__d('MUFIReactionButton',['CSS','DOM','MLiveData','MUFILikeButton','MUFIReactionsUtils','Stratcom','Style','UFIReactionIcons','UFIReactionTypes','createIxElement','cx','fbt'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){var t,u,v=1,w=0,x=16;t=babelHelpers.inherits(y,k);u=t&&t.prototype;function y(z,aa,ba,ca,da){'use strict';u.constructor.call(this,z,aa,ba,ca);this.$MUFIReactionButton1=z;this.$MUFIReactionButton2=j.get(aa);this.$MUFIReactionButton3=aa;this.$MUFIReactionButton4=ca;this.$MUFIReactionButton5=da||x;if(z.href)z.setAttribute('data-uri',z.href);z.removeAttribute('href');}y.prototype.onChange=function(){'use strict';var z=this.$MUFIReactionButton2.getData();if(z.request_id===this.$MUFIReactionButton4)return;var aa,ba,ca=z.viewerreaction,da=!!ca;if(ca&&!p.reactions[ca])ca=null;if(!ca){aa='inherit';ba=s._("Like");}else{var ea=null;if(ca!==v){var fa=o[ca][this.$MUFIReactionButton5];if(!fa)fa=o[ca][x];ea=q(fa);h.addClass(ea,"_4h-b");}aa=p.reactions[ca].color;ba=[ea,p.reactions[ca].display_name];}i.setContent(this.$MUFIReactionButton1,ba);this.$MUFIReactionButton1.setAttribute('aria-pressed',da);h.conditionClass(this.$MUFIReactionButton1,"_1boq",da&&ca!==v);h.conditionClass(this.$MUFIReactionButton1,"_2q8z",da&&ca===v);n.set(this.$MUFIReactionButton1,'color',aa);m.removeSigil(this.$MUFIReactionButton1,da?'like':'unlike');m.addSigil(this.$MUFIReactionButton1,da?'unlike':'like');};y.prototype.getFeedbackData=function(){'use strict';var z=this.$MUFIReactionButton2.getData();return l.getReactionData(z,z.has_viewer_liked||z.viewerreaction?w:v);};y.prototype.getRequestData=function(){'use strict';var z=this.$MUFIReactionButton2.getData(),aa=z.has_viewer_liked||z.viewerreaction;return {reaction_type:aa?w:v,ft_ent_identifier:z.ft_ent_identifier};};f.exports=y;}),null);
__d('Locale',['ExecutionEnvironment','SiteData'],(function a(b,c,d,e,f,g,h,i){function j(){if(!h.canUseDOM){return false;}else return i.is_rtl;}f.exports={isRTL:j};}),null);
__d("clamp",[],(function a(b,c,d,e,f,g){function h(i,j,k){if(i<j)return j;if(i>k)return k;return i;}f.exports=h;}),null);
__d('MFlyout',['CSS','MLegacyDataStore','DOM','Locale','MContextualThing','MLayer','MParent','MViewport','Scroll','Stratcom','Vector','MJSEnvironment','clamp','cx','emptyFunction','mixInEventEmitter'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){var x,y,z=52,aa=26,ba=10,ca=22,da=3,ea=400,fa=320,ga=['resize','m:schedulable:loaded','m:viewport:orientation-change','m:orientation-resize:complete','m:hideout:reflow','m:landscape-cover-crop:complete'],ha='flyout-causal',ia=j.create('div',{className:"_5so _2wyb"});function ja(){return document.body;}var ka=[];x=babelHelpers.inherits(la,m);y=x&&x.prototype;function la(pa,qa){'use strict';y.constructor.call(this,pa);this._contentRoot=null;this._contentWrapper=null;this._nubNode=null;this._nubAlignment=null;this._content=null;this._contextNode=null;this._parentLayer=null;this._parentSubscription=null;this._orientation=null;this._orientationClass=null;this._width=null;this._modal=null;this._contentPositioner=null;this._heightConstraint=null;this._autoflipTopOffset=null;this.init(qa);}la.prototype.configure=function(pa,qa){'use strict';y.configure.call(this,pa,qa);if(pa.context){this.setContext(pa.context);this.setParentSubscription();q.addSigil(this.getCausalElement(),ha);var ra=i.get(this.getCausalElement());ra.flyout=this;}this.setMargin(pa.margin);this.setPosition(pa.position);this.setNubAlign(pa.nubalign);this.setOffsetY(pa.offsetY);this._content=qa;this.setWidth(pa.width);this.setModal(!!pa.modal);this.setAutoflipTopOffset(pa.autoFlipTopOffset);};la.prototype.setWidth=function(pa){'use strict';this._width=pa;};la.prototype.setModal=function(pa){'use strict';this._modal=pa;};la.prototype.getModal=function(){'use strict';return this._modal;};la.prototype.setAutoflipTopOffset=function(pa){'use strict';this._autoflipTopOffset=pa;};la.prototype.getAutoflipTopOffset=function(){'use strict';return this._autoflipTopOffset;};la.prototype._getLayerParentWidth=function(){'use strict';return r.getDim(this.getRoot().offsetParent).x;};la.prototype.getMaxWidth=function(){'use strict';return Math.min(this._getLayerParentWidth(),s.IS_TABLET?fa:ea);};la.prototype._maxWidthIsApplicable=function(){'use strict';return this.getMaxWidth()!==this._getLayerParentWidth();};la.prototype._isCustomWidth=function(){'use strict';return this._width==='auto'||this._maxWidthIsApplicable();};la.prototype.applyWidth=function(){'use strict';var pa=this._contentRoot.style;pa.width='';pa.maxWidth='';if(this._maxWidthIsApplicable()){var qa=this.getMaxWidth()+'px';if(this._width==='auto'){pa.maxWidth=qa;}else pa.width=qa;}h.conditionClass(this._contentRoot,"_556f",this._isCustomWidth());};la.prototype.buildWrapper=function(pa,qa){'use strict';this._nubNode=j.create('div',{className:"_5bn_"});this._backgroundNode=j.create('div',{className:"_5c0e"},this._nubNode);var ra=j.create('div',{className:"_5c0f"},qa);this._contentRoot=j.create('div',{className:"_5bo0"},[this._backgroundNode,ra]);if(k.isRTL())this._contentRoot.style.direction='rtl';this._contentWrapper=j.create('div',{className:"_544k"},this._contentRoot);this._contentPositioner=j.create('div',{className:"_544l"},this._contentWrapper);return this._contentPositioner;};la.prototype.setMargin=function(pa){'use strict';h.conditionClass(this._contentRoot,"_54wl",pa==='large');h.conditionClass(this._contentRoot,"_55kj",pa==='medium');};la.prototype.getInsertParent=function(){'use strict';var pa=this.insertParent;if(!pa){var qa=this.getContext();if(qa)pa=n.bySigil(qa,'context-layer-root')||ja();}return pa||y.getInsertParent.call(this);};la.prototype.setContent=function(pa){'use strict';this._content=pa;j.setContent(this._contentRoot,this._content);this.updateIfShown();return this;};la.prototype.setContext=function(pa){'use strict';this._contextNode=pa;};la.prototype.getCausalElement=function(){'use strict';return y.getCausalElement.call(this)||this.getContext();};la.prototype.setParentSubscription=function(){'use strict';var pa=this.getContext(),qa=null,ra=ja().parentNode;while(pa!==ra){qa=i.get(pa).layer;if(qa)break;pa=pa.parentNode;}if(qa===this._parentLayer)return;if(this._parentLayer&&this._parentSubscription){this._parentSubscription.remove();this._parentSubscription=null;}if(qa)this._parentSubscription=qa.subscribe('hide',this.hide.bind(this));this._parentLayer=qa;};la.prototype.setPosition=function(pa){'use strict';if(this.getOrientation().setDefaultPosition(pa)){this.getOrientation().setPosition(pa);this.updateIfShown();}return this;};la.prototype.setNubAlign=function(pa){'use strict';na(pa);this._nubAlignment=pa||'center';};la.prototype.setOffsetY=function(pa){'use strict';pa=parseInt(pa,10);if(this.getOrientation().setDefaultOffsetY(pa))this.updateIfShown();return this;};la.prototype.getOrientation=function(){'use strict';if(!this._orientation)this._orientation=new oa();return this._orientation;};la.prototype.getContentRoot=function(){'use strict';return this._contentRoot;};la.prototype.getContent=function(){'use strict';return this._content;};la.prototype.getContext=function(){'use strict';return this._contextNode;};la.prototype.getContextBounds=function(){'use strict';return this.getContext().getBoundingClientRect();};la.prototype.causalClickShow=function(){'use strict';this.getContent()&&this.show();};la.prototype.show=function(){'use strict';if(this.isShown())return this;y.show.call(this);if(this.getModal())j.insertAfter(this._contentPositioner,ia);if(this.isShown()){l.register(this.getRoot(),this.getContext());ka.push(this);if(!this.resizeListeners){var pa=this.updatePosition.bind(this);this.resizeListeners=ga.map(function(va){return q.listen(va,null,pa);});}var qa=document.getElementById('viewport'),ra=this.getContentRoot();if(qa&&ra){ra=ra.parentNode;var sa=0,ta=ra;while(ta&&ta!==qa){sa+=ta.offsetTop;ta=ta.offsetParent;}var ua=sa+ra.clientHeight;this._heightConstraint=o.addMinHeightConstraint(ua);}}return this;};la.prototype.finishHide=function(){'use strict';ka.splice(ka.indexOf(this),1);while(this.resizeListeners&&this.resizeListeners.length)this.resizeListeners.pop().remove();this.resizeListeners=null;q.invoke('m:flyout:close',null,{flyout:this});if(this.getModal())j.remove(ia);if(this._heightConstraint){this._heightConstraint.release();this._heightConstraint=null;}return y.finishHide.call(this);};la.prototype.updatePosition=function(){'use strict';var pa=this.getContext();if(!pa)return false;if(!pa.offsetParent)return false;this.applyWidth();this.emit('adjustDimensions');var qa=this.getRoot(),ra=this.getOrientation();this.emit('adjust',ra.reset());this.updateWrapperClass(ra);var sa=qa.offsetParent,ta=sa.getBoundingClientRect(),ua=this.getContextBounds(),va=ua.left-ta.left,wa=ua.top-ta.top;if(ra.getPosition()==='below')wa+=ua.height;var xa=this.getContentRoot(),ya=0;if(this._isCustomWidth()){var za=xa.clientWidth,ab=va+Math.round(ua.width/2);ya=t(Math.round(ab-za/2),0,this._getLayerParentWidth()-za);xa.style.left=ya+'px';}else xa.style.left='';qa.style.top=wa+ra.getOffsetY()+'px';var bb=this._nubAlignment,cb=va;if(ua<aa)bb='center';if(bb==='center'){cb+=Math.round(ua.width/2);}else if(this._nubAlignment==='left'){cb+=aa/2;}else cb+=ua.width-aa/2;var db=xa.getBoundingClientRect(),eb={left:db.left,width:db.width};eb.left-=ta.left;var fb=da+aa/2;cb=t(cb,eb.left+fb,eb.left+eb.width-fb);var gb=cb-z/2-eb.left;this._nubNode.style.left=gb+'px';this.emit('reposition',ra);return true;};la.prototype.updateNubPosition=function(pa){'use strict';if(this._nubNode)this._nubNode.style.left=pa+'px';};la.prototype._toggleOrientationClass=function(pa,qa){'use strict';h.conditionClass(this._contentWrapper,qa||this._orientationClass,pa);};la.prototype.updateWrapperClass=function(pa){'use strict';var qa=pa.getClassName();if(qa===this._orientationClass)return;if(this._orientationClass)this._toggleOrientationClass(false);this._orientationClass=qa;this._toggleOrientationClass(true);};la.prototype.simulateOrientation=function(pa,qa){'use strict';var ra=pa.getClassName();if(ra===this._orientationClass){return qa();}else{if(this._orientationClass)this._toggleOrientationClass(false);this._toggleOrientationClass(true,ra);var sa=qa();this._toggleOrientationClass(false,ra);if(this._orientationClass)this._toggleOrientationClass(true);return sa;}};la.prototype.destroy=function(){'use strict';y.destroy.call(this);this._contextNode=null;this._contextSigil=null;this._contentRoot=null;this._contentWrapper=null;this._content=null;this._nubNode=null;this._width=null;return this;};la.prototype.shouldBlurOnTouchEnd=function(){'use strict';return this.getModal()==null;};w(la,{adjustDimensions:true,adjust:true,reposition:true});var ma=v.thatReturnsArgument,na=v.thatReturnsArgument;function oa(){'use strict';this._default={_position:'above',_offsetY:0};this.reset();}oa.prototype.setPosition=function(pa){'use strict';this._position=ma(pa);return this;};oa.prototype.getOppositePosition=function(){'use strict';return oa.OPPOSITE[this.getPosition()];};oa.prototype.getPosition=function(){'use strict';return this._position||'above';};oa.prototype.getOffsetY=function(){'use strict';var pa=this._offsetY||0;if(this._position==='above'){pa-=ca;pa*=-1;}else if(this._position==='below')pa-=ba;return pa;};oa.prototype.getClassName=function(){'use strict';var pa=this.getPosition();if(pa==='below'){return "_5bo1";}else if(pa==='above')return "_5bo2";};oa.prototype.reset=function(){'use strict';Object.assign(this,this._default);return this;};oa.prototype.setDefaultPosition=function(pa){'use strict';var qa=this._default._position;this._default._position=ma(pa);return qa!==pa;};oa.prototype.setDefaultOffsetY=function(pa){'use strict';var qa=this._default._offsetY;this._default._offsetY=pa;return qa!==pa;};oa.OPPOSITE={above:'below',below:'above'};q.listen('click',ha,function(pa){i.get(pa.getNode(ha)).flyout.causalClickShow();});q.listen('click',['m-layer-root','mflyout-remove-on-click'],function(pa){var qa=pa.getNode('m-layer-root');i.get(qa).layer.hide();});f.exports=la;}),null);
__d('MFlyoutAutoFlip',['MViewport','MParent'],(function a(b,c,d,e,f,g,h,i){function j(k){'use strict';this.$MFlyoutAutoFlip1=null;this.$MFlyoutAutoFlip2=k;}j.prototype.enable=function(){'use strict';this.$MFlyoutAutoFlip1=this.$MFlyoutAutoFlip2.addListener('adjust',this.$MFlyoutAutoFlip3.bind(this));if(this.$MFlyoutAutoFlip2.isShown())this.$MFlyoutAutoFlip2.updatePosition();};j.prototype.disable=function(){'use strict';this.$MFlyoutAutoFlip1.remove();this.$MFlyoutAutoFlip1=null;if(this.$MFlyoutAutoFlip2.isShown())this.$MFlyoutAutoFlip2.updatePosition();};j.prototype.$MFlyoutAutoFlip3=function(k){'use strict';var l=this.$MFlyoutAutoFlip4(k),m={top:this.$MFlyoutAutoFlip2.getAutoflipTopOffset()||0,bottom:h.getUseableHeight()},n=i.bySigil(this.$MFlyoutAutoFlip2.getRoot(),'scroll-area');if(n){var o=n.getBoundingClientRect();m={top:Math.max(o.top,m.top),bottom:Math.min(o.bottom,m.bottom)};}var p,q,r=this.$MFlyoutAutoFlip2,s=r.getContext(),t=s.getBoundingClientRect();for(p=0;p<l.length;p++){k.setPosition(l[p]);q=r.simulateOrientation(k,function(){return r.getRoot().firstChild.getBoundingClientRect();});var u=t.top+k.getOffsetY();if(k.getPosition()==='above'){u-=q.height;}else if(k.getPosition()==='below')u+=t.height;var v={top:u,bottom:u+q.height};if(v.top>=m.top&&v.bottom<=m.bottom)return;}k.setPosition(l.indexOf('below')>-1?'below':l[0]);};j.prototype.$MFlyoutAutoFlip4=function(k){'use strict';return [k.getPosition(),k.getOppositePosition()];};f.exports=j;}),null);
__d('MFlyoutContextSigil',['Stratcom','MLegacyDataStore','DOM','ex'],(function a(b,c,d,e,f,g,h,i,j,k){var l={};function m(n){'use strict';this.$MFlyoutContextSigil1=null;this.$MFlyoutContextSigil2=n;}m.prototype.enable=function(){'use strict';var n=this.$MFlyoutContextSigil3();l[n];l[n]=this.$MFlyoutContextSigil2;this.$MFlyoutContextSigil1=h.listen('click',this.$MFlyoutContextSigil3(),this.$MFlyoutContextSigil4.bind(this));};m.prototype.disable=function(){'use strict';delete l[this.$MFlyoutContextSigil3()];this.$MFlyoutContextSigil1.remove();this.$MFlyoutContextSigil1=null;this.$MFlyoutContextSigil2=null;};m.prototype.$MFlyoutContextSigil3=function(){'use strict';var n=this.$MFlyoutContextSigil2.config;return n.causalSigil||n.contextSigil;};m.prototype.$MFlyoutContextSigil4=function(n){'use strict';var o=n.getNode(this.$MFlyoutContextSigil3()),p,q=this.$MFlyoutContextSigil2.config.contextSigil,r=this.$MFlyoutContextSigil2.config.causalSigil;if(r&&r!==q){var s=o;while(s&&s!==document.body&&!p)if(h.hasSigil(s,q)){p=s;}else{var t=j.scry(s,'*',q);p=t[0];s=s.parentNode;}}else p=o;if(this.$MFlyoutContextSigil2.getContext()!==p&&this.$MFlyoutContextSigil2.isShown()){this.$MFlyoutContextSigil2.hide();if(!this.$MFlyoutContextSigil2)return;}this.$MFlyoutContextSigil2.setCausalElement(o);this.$MFlyoutContextSigil2.setContext(p);i.get(o).flyout=this.$MFlyoutContextSigil2;if(!this.$MFlyoutContextSigil2.isShown())this.$MFlyoutContextSigil2.show();n.prevent();};f.exports=m;}),null);
__d('keyMirror',['invariant'],(function a(b,c,d,e,f,g,h){'use strict';var i=function j(k){var l={},m;k instanceof Object&&!Array.isArray(k)||h(0);for(m in k){if(!Object.prototype.hasOwnProperty.call(k,m))continue;l[m]=m;}return l;};f.exports=i;}),18);
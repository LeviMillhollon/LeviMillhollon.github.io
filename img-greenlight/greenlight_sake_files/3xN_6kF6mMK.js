if (self.CavalryLogger) { CavalryLogger.start_js(["3fqDA"]); }

__d("FunnelRegistry",[],(function a(b,c,d,e,f,g){f.exports={WWW_EXAMPLE_FUNNEL:true,MSITE_EXAMPLE_FUNNEL:true,WWW_FEED_SHARE_DIALOG_FUNNEL:true,MSITE_FEED_SHARE_DIALOG_FUNNEL:true,PLATFORM_SHARE_DIALOG_FUNNEL:true,WWW_RECRUITING_SEARCH_FUNNEL:true,WWW_CANVAS_EDITOR_FUNNEL:true,MSITE_COMMENT_TYPING_FUNNEL:true,MSITE_NOTE_READING_FUNNEL:true,WWW_CAMPFIRE_COMPOSER_UPSELL_FUNNEL:true,WWW_REACTIONS_LIKE_BUTTON_HOVER_FUNNEL:true,WWW_REACTIONS_NUX_FUNNEL:true,WWW_COMMENT_REACTIONS_NUX_FUNNEL:true,WWW_REACTIONS_BLINGBAR_NUX_FUNNEL:true,MSITE_INLINE_REPLY_COMPOSER_FUNNEL:true,WWW_LEAD_GEN_FORM_CREATION_FUNNEL:true,WWW_LEAD_GEN_DESKTOP_AD_UNIT_FUNNEL:true,WWW_LEAD_GEN_MSITE_AD_UNIT_FUNNEL:true,WWW_LINK_PICKER_DIALOG_FUNNEL:true,WWW_MEME_PICKER_DIALOG_FUNNEL:true,WWW_SNOWLIFT_ACTIONS_FUNNEL:true,WWW_CANVAS_AD_CREATION_FUNNEL:true,WWW_SEARCH_AWARENESS_LEARNING_NUX_FUNNEL:true,WWW_CONSTITUENT_TITLE_UPSELL_FUNNEL:true,WWW_PAGE_CREATION_FUNNEL:true,WWW_VIDEOS_CASTING_FUNNEL:true,MSITE_PPD_FUNNEL:true,WWW_CMS_SEARCH_FUNNEL:true,SOCIAL_SEARCH_CONVERSION_WWW_FUNNEL:true,SOCIAL_SEARCH_DASHBOARD_WWW_FUNNEL:true,GAMES_QUICKSILVER_FUNNEL:true,SRT_USER_FLOW_FUNNEL:true,WWW_MEME_PIVOT_FUNNEL:true,WWW_NOTIFICATION_FUNNEL:true,MSITE_HASHTAG_PROMPT_FUNNEL:true,MSITE_FEED_ALBUM_CTA_FUNNEL:true,MTOUCH_COMMENT_STORIES_FUNNEL:true,WWW_MESSENGER_SHARE_TO_FB_FUNNEL:true,MISINFORMATION_RESHARE_ALERT_FUNNEL:true,FACECAST_BROADCASTER_FUNNEL:true,WWW_MISINFO_WARNING_FOOTER_FUNNEL:true,MTOUCH_MISINFO_WARNING_FOOTER_FUNNEL:true,COLLEGE_COMMUNITY_NUX_ONBOARDING_FUNNEL:true,WWW_MESSENGER_SEARCH_SESSION_FUNNEL:true,WWW_LIVE_PRODUCER_FUNNEL:true,WWW_ACCESSIBILITY_NOTIFICATIONS_JEWEL_TABBING_FUNNEL:true,MTOUCH_FEED_MISSED_STORIES_FUNNEL:true,WWW_STORYSET_FUNNEL:true,POLYGLOT_MAIN_FUNNEL:true,CREATIVE_STUDIO_CREATION_FUNNEL:true,CREATIVE_STUDIO_HUB_FUNNEL:true,CREATIVE_STUDIO_INVITE_JOIN_FUNNEL:true,FX_PLATFORM_INVITE_JOIN_FUNNEL:true,WWW_LIVE_VIEWER_TIPJAR_FUNNEL:true,WWW_FUNDRAISER_CREATION_FUNNEL:true,WWW_FUNDRAISER_EDIT_FUNNEL:true,WWW_FBL_FUNNEL:true,WWW_CLUE_FUNNEL:true,WWW_OFFERS_SIMPLE_COMPOSE_FUNNEL:true,WWW_OFFERS_SIMPLE_COMPOSE_POST_LIKE_FUNNEL:true,WWW_SEE_OFFERS_CTA_NUX_FUNNEL:true,WWW_CHEVRON_FUNNEL:true,MSITE_AD_BREAKS_ONBOARDING_FLOW_FUNNEL:true,CASUAL_GROUP_PICKER_FUNNEL:true,TOPICS_TO_FOLLOW_FUNNEL:true,WWW_SPATIAL_REACTION_PRODUCTION_FUNNEL:true,WWW_ADS_TARGETING_AUDIENCE_MANAGER_FUNNEL:true};}),null);
__d("XMobileFeedLogAndRedirectShimController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/mtouch\/feed\/log_and_redirect\/",{_ft_:{type:"String",required:true},__tn__:{type:"String"},href_target:{type:"String",required:true}});}),null);
__d('goURI',['ReloadPage','URISchemes','URI'],(function a(b,c,d,e,f,g,h,i,j){function k(l,m,n){var o=new j(l),p=o.toString();if(!m&&b.PageTransitions){b.PageTransitions.go(p,n);}else if(window.location.href==p){h.now();}else if(n){window.location.replace(p);}else window.location.href=p;}f.exports=k;}),18);
__d('MFeedAsyncClickLogger',['MFeedAsyncClickLoggerConfig','MRequest','Stratcom','XMobileFeedLogAndRedirectShimController','destroyOnUnload','goURI'],(function a(b,c,d,e,f,g,h,i,j,k,l,m){function n(event){var p=event.getNode('log-click-async');if(h.useLogAndRedirectShim){var q=k.getURIBuilder().setString('_ft_',p.getAttribute('data-ft')).setString('__tn__',p.getAttribute('data-tn')).setString('href_target',p.getAttribute('data-hrefTarget')).getURI();m(q);}else{var r={_ft_:p.getAttribute('data-ft'),__tn__:p.getAttribute('data-tn')},s=new i('/mtouch/feed/log/'),t=p.getAttribute('data-hrefTarget'),u=false,v=function w(x){if(t&&!u){u=true;window.location=t;}};s.setData(r);s.setAutoRetry(true);s.setMethod('POST');s.listen('finally',v);s.send();window.setTimeout(v,1000);}}var o=j.listen('click','log-click-async',n);l(function(){o.remove();});f.exports={logOnClick:n};}),null);
__d("XSaveController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/save\/story\/",{story_id:{type:"String"},object_id:{type:"Int"},action:{type:"Enum",enumType:1},surface:{type:"Enum",enumType:1},mechanism:{type:"Enum",enumType:1},message_id:{type:"String"},tracking_message:{type:"String"}});}),null);
__d('FunnelAction',[],(function a(b,c,d,e,f,g){'use strict';var h='name',i='payload',j='relative_time',k='tag';function l(m,n,o,p){this.$FunnelAction1={};this.$FunnelAction1[h]=m;this.$FunnelAction1[j]=n;if(o!==undefined)this.$FunnelAction1[k]=o;if(p!==undefined)this.$FunnelAction1[i]=JSON.stringify(p);}l.prototype.getData=function(){return this.$FunnelAction1;};f.exports=l;}),null);
__d('Funnel',['FunnelAction','FunnelRegistry','invariant','sprintf'],(function a(b,c,d,e,f,g,h,i,j,k){'use strict';var l='name',m='instance_id',n='start_time',o='tags',p='actions',q='sampling_rate',r='timeout_sec',s={EXPLICIT:'explicit',TIMEOUT:'timeout',SESSION_END:'session_end',RESTART:'restart',ACTIONS_FULL:'actions_full'},t={ACTION_END:'funnel_end',ACTION_WINDOW_BLUR:'window_blur',ACTION_WINDOW_FOCUS:'window_focus'},u=600;function v(w,x,y,z){i[w]===true||j(0);this.$Funnel1=w;this.$Funnel2=x;this.$Funnel3=[];this.$Funnel4={};this.$Funnel5=y;this.$Funnel6=Date.now();this.timeout_sec=u;this.shouldTrackFocus=false;this.$Funnel7=z;this.devModeLogger('Started funnel');}v.prototype.addTag=function(w){typeof w==='string'||j(0);this.$Funnel4[w]=true;this.devModeLogger('Added funnel tag %s',w);return this;};v.prototype.appendAction=function(w,x,y){this.$Funnel3.push(new h(w,Date.now()-this.$Funnel6,x,y));if(x){this.devModeLogger('Appended action %s with tag %s',w,x);}else this.devModeLogger('Appended action %s',w);this.$Funnel8=w;return this;};v.prototype.appendActionIfNew=function(w,x,y){if(w!==this.$Funnel8)this.appendAction(w,x,y);return this;};v.prototype.getLogData=function(){var w={};w[l]=this.$Funnel1;if(this.$Funnel2!==undefined){w[m]=this.$Funnel2;}else w[m]=Math.floor(Math.random()*65536);w[n]=this.$Funnel6;w[q]=this.$Funnel5;w[r]=this.timeout_sec;w[o]=[];for(var x in this.$Funnel4)if(this.$Funnel4[x]===true)w[o].push(x);if(this.$Funnel3.length>0){w[p]=[];for(var y=0;y<this.$Funnel3.length;y++)w[p].push(this.$Funnel3[y].getData());}return w;};v.prototype.devModeLogger=function(){};v.prototype.getTags=function(){return this.$Funnel4;};f.exports={Funnel:v,EndType:s,ActionType:t};}),null);
__d('FunnelLoggerSampler',['FunnelLoggerConfig'],(function a(b,c,d,e,f,g,h){'use strict';function i(k){var l=j(k);if(l===0)return false;return Math.random()*l<1;}function j(k){var l=h.freq[k];if(l===undefined)l=h.freq['default'];return l;}f.exports={shouldLog:i,getSamplingRate:j};}),null);
__d('FunnelLogger',['Banzai','Funnel','FunnelLoggerSampler','FunnelRegistry','MarauderLogger','invariant'],(function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';var n={},o=false,p=true;function q(va,wa){var xa=ga(va,wa);ua();pa(xa);if(j.shouldLog(va)){n[xa]=new i.Funnel(va,wa,j.getSamplingRate(va),false);ja(xa);}}function r(va,wa){var xa=ga(va,wa);if(!ha(xa))return null;return n[xa];}function s(va,wa){}function t(va,wa,xa){if(xa===undefined){ia(va,undefined,wa);}else if(xa)ia(va,wa,xa);}function u(va,wa){var xa=ga(va,wa);if(ha(xa)){n[xa].devModeLogger('Cancelled funnel');ka(xa);n[xa]=undefined;}}function v(va,wa){var xa=ga(va,wa);if(ha(xa)){n[xa].appendAction(i.ActionType.ACTION_END,i.EndType.EXPLICIT);qa(xa);}}function w(va,wa,xa){if(xa===undefined){la(va,undefined,String(wa));}else la(va,Number(wa),xa);}function x(va,wa,xa){if(xa===undefined){ma(va,undefined,Boolean(wa));}else ma(va,Number(wa),xa);}function y(va,wa,xa){if(xa===undefined){na(va,undefined,String(wa),undefined);}else na(va,Number(wa),xa,undefined);}function z(va,wa,xa){if(xa===undefined){oa(va,undefined,String(wa),undefined);}else oa(va,Number(wa),xa,undefined);}function aa(va,wa,xa,ya){if(ya===undefined){na(va,undefined,String(wa),xa);}else na(va,Number(wa),xa,ya);}function ba(va,wa,xa,ya){if(ya===undefined){oa(va,undefined,String(wa),xa);}else oa(va,Number(wa),xa,ya);}function ca(va,wa,xa,ya){if(ya===undefined){na(va,undefined,String(wa),undefined,xa);}else na(va,Number(wa),String(xa),undefined,ya);}function da(va,wa,xa,ya){if(ya===undefined){oa(va,undefined,String(wa),undefined,xa);}else oa(va,Number(wa),String(xa),undefined,ya);}function ea(va,wa,xa,ya,za){if(za===undefined){na(va,undefined,String(wa),xa,ya);}else na(va,Number(wa),String(xa),String(ya),za);}function fa(va,wa,xa,ya,za){if(za===undefined){oa(va,undefined,String(wa),xa,ya);}else oa(va,Number(wa),String(xa),String(ya),za);}function ga(va,wa){k[va]===true||m(0);if(wa===undefined||wa===null){return va;}else return va+wa.toString();}function ha(va){return n[va]!==undefined;}function ia(va,wa,xa){var ya=ga(va,wa);if(ha(ya)){n[ya].timeout_sec=xa;n[ya].devModeLogger('Timeout set to %d sec',xa);ja(ya);}}function ja(va){ka(va);n[va].timeout_handle=setTimeout(function(){n[va].appendAction(i.ActionType.ACTION_END,i.EndType.TIMEOUT);qa(va);},1000*n[va].timeout_sec);}function ka(va){if(n[va].timeout_handle)clearTimeout(n[va].timeout_handle);}function la(va,wa,xa){var ya=ga(va,wa);if(ha(ya)){n[ya].addTag(xa);ja(ya);}}function ma(va,wa,xa){var ya=ga(va,wa);if(ha(ya)){n[ya].shouldTrackFocus=xa;n[ya].devModeLogger('Focus tracking %s',xa?'on':'off');}}function na(va,wa,xa,ya,za){var ab=ga(va,wa);if(ha(ab)){n[ab].appendAction(xa,ya,za);ja(ab);}}function oa(va,wa,xa,ya,za){var ab=ga(va,wa);if(ha(ab))n[ab].appendActionIfNew(xa,ya,za);}function pa(va){if(ha(va)){n[va].appendAction(i.ActionType.ACTION_END,i.EndType.RESTART);qa(va);}}function qa(va){if(ha(va)){var wa=n[va].getLogData();l.log('funnel_analytics',null,wa);n[va].devModeLogger('Logged: %s',JSON.stringify(wa));ka(va);n[va]=undefined;}}function ra(){for(var va in n)if(Object.prototype.hasOwnProperty.call(n,va)&&ha(va)){n[va].appendAction(i.ActionType.ACTION_END,i.EndType.SESSION_END);qa(va);}}function sa(){if(p){p=false;for(var va in n)if(Object.prototype.hasOwnProperty.call(n,va)&&ha(va)&&n[va].shouldTrackFocus){n[va].appendAction(i.ActionType.ACTION_WINDOW_BLUR);ka(va);}}}function ta(){if(!p){p=true;for(var va in n)if(Object.prototype.hasOwnProperty.call(n,va)&&ha(va)&&n[va].shouldTrackFocus){n[va].appendAction(i.ActionType.ACTION_WINDOW_FOCUS);ka(va);}}}function ua(){if(!o){o=true;if(window.addEventListener){h.subscribe(h.SHUTDOWN,ra);window.addEventListener('blur',sa);window.addEventListener('focus',ta);}}}f.exports={startFunnel:q,startFunnel_DEV_MODE:s,setFunnelTimeout:t,setFunnelTrackFocus:x,addFunnelTag:w,appendAction:y,appendActionIfNew:z,appendActionWithTag:aa,appendActionWithTagIfNew:ba,appendActionWithPayload:ca,appendActionWithPayloadIfNew:da,appendActionWithTagAndPayload:ea,appendActionWithTagAndPayloadIfNew:fa,cancelFunnel:u,endFunnel:v,getFunnelInstance:r};}),null);